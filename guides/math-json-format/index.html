<!doctype html><html class=no-js lang=en><meta charset=utf-8><title>CortexJS</title><meta content=""name=description><link href=/feed.xml rel=alternate title="CortexJS Feed"type=application/atom+xml><meta content="width=device-width,initial-scale=1"name=viewport><meta content=strict-origin name=referrer><script>document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';</script><script crossorigin=anonymous src=https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.59.1/codemirror.min.js></script><script crossorigin=anonymous src=https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.59.1/mode/javascript/javascript.min.js></script><script crossorigin=anonymous src=https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.59.1/mode/xml/xml.min.js></script><script crossorigin=anonymous src=/assets/js/code-playground.js type=module></script><link href=/assets/css/main.css rel=stylesheet><link href=https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.59.1/codemirror.min.css rel=stylesheet><link href=/assets/js/ui.css rel=stylesheet><link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:100,100i,400,400i,700,700i,900,900i&display=block"rel=stylesheet crossorigin><link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@0,400;0,700;1,400;1,700&family=IBM+Plex+Sans:ital,wght@0,400;0,700;1,400;1,700&display=block"rel=stylesheet crossorigin><script crossorigin=anonymous src=https://kit.fontawesome.com/523e3eb8bb.js></script><body class=layout--single><nav class=skip-links><h2 class=screen-reader-text>Skip links</h2><ul><li><a href=#site-nav class=screen-reader-shortcut>Skip to primary navigation</a><li><a href=#main class=screen-reader-shortcut>Skip to content</a><li><a href=#footer class=screen-reader-shortcut>Skip to footer</a></ul></nav><!--[if lt IE 9]><div class="notice--danger align-center"style=margin:0>You are using an <strong>outdated</strong> browser. Please <a href=https://browsehappy.com/ >upgrade your browser</a> to improve your experience.</div><![endif]--><div class=masthead><div class=masthead__inner-wrap><div class=masthead__menu><nav class=greedy-nav id=site-nav><a href=/ class=site-logo><img alt=""src=""></a><a href=/ class=site-title>Cortex<em>JS</em></a><ul class=visible-links><li class=masthead__menu-item><a href=/mathlive/ >MathLive</a><li class=masthead__menu-item><a href=/docs/ >Docs</a><li class=masthead__menu-item><a href=/funding/ >Funding</a><li class=masthead__menu-item><a href=https://gitter.im/cortex-js title="Chat on Gitter"><svg class=icon1em><use role=none xlink:href=/assets/icons.svg#gitter></use></svg></a><li class=masthead__menu-item><a href=https://github.com/cortex-js title="Get source code on GitHub"><svg class=icon1em><use role=none xlink:href=/assets/icons.svg#github></use></svg></a></ul><button class="hidden greedy-nav__toggle"type=button><span class=visually-hidden>Toggle menu</span><div class=navicon></div></button><ul class="hidden hidden-links"></ul></nav></div></div></div><div class=initial-content><div id=main role=main><div class="sidebar sticky"><nav class=nav__list><input id=ac-toc name=accordion-toc type=checkbox> <label for=ac-toc><svg class="fa-ellipsis-h svg-inline--fa"aria-hidden=true data-icon=ellipsis-h data-prefix=fal focusable=false role=img style=width:32px;height:32px viewBox="0 0 320 512"xmlns=http://www.w3.org/2000/svg><path d="M192 256c0 17.7-14.3 32-32 32s-32-14.3-32-32 14.3-32 32-32 32 14.3 32 32zm88-32c-17.7 0-32 14.3-32 32s14.3 32 32 32 32-14.3 32-32-14.3-32-32-32zm-240 0c-17.7 0-32 14.3-32 32s14.3 32 32 32 32-14.3 32-32-14.3-32-32-32z"fill=currentColor></path></svg></label><ul class=nav__items><li><a href=/guides/mathfield-getting-started/ ><span class=nav__sub-title>MathLive</span></a><li><span class=nav__sub-title>MathJSON</span><ul><li><a href=/guides/math-json/ >Introduction</a><li><a href=/guides/math-json-format/ class=active>MathJSON Format</a><li><a href=/guides/math-json-dictionary/ >Dictionary</a></ul><li><span class=nav__sub-title>Compute Engine</span><ul><li><a href=/guides/compute-engine/ >Introduction</a><li><a href=/docs/compute-engine/ >SDK Reference</a></ul><li><span class=nav__sub-title>Dictionary</span><ul><li><a href=/guides/compute-engine-arithmetic/ >Arithmetic</a><li><a href=/guides/compute-engine-calculus/ >Calculus</a><li><a href=/guides/compute-engine-core/ >Core</a><li><a href=/guides/compute-engine-domains/ >Domains</a><li><a href=/guides/compute-engine-forms/ >Forms</a><li><a href=/guides/compute-engine-logic/ >Logic</a><li><a href=/guides/compute-engine-sets/ >Sets</a><li><a href=/guides/compute-engine-trigonometry/ >Trigonometry</a></ul><li><span class=nav__sub-title>Contributing</span><ul><li><a href=/docs/reporting-issues/ >Reporting Issues</a><li><a href=/funding/ >Funding</a><li><a href=/docs/code-of-conduct/ >Code of Conduct</a><li><a href=/docs/license/ >License</a></ul></ul></nav><nav class=nav__list><input id=ac-toc name=accordion-toc type=checkbox> <label for=ac-toc><svg class="fa-ellipsis-h svg-inline--fa"aria-hidden=true data-icon=ellipsis-h data-prefix=fal focusable=false role=img style=width:32px;height:32px viewBox="0 0 320 512"xmlns=http://www.w3.org/2000/svg><path d="M192 256c0 17.7-14.3 32-32 32s-32-14.3-32-32 14.3-32 32-32 32 14.3 32 32zm88-32c-17.7 0-32 14.3-32 32s14.3 32 32 32 32-14.3 32-32-14.3-32-32-32zm-240 0c-17.7 0-32 14.3-32 32s14.3 32 32 32 32-14.3 32-32-14.3-32-32-32z"fill=currentColor></path></svg></label><ul class=nav__items></ul></nav></div><article class=page itemscope itemtype=https://schema.org/CreativeWork><div class=page__inner-wrap><header></header><section class=page__content itemprop=text><script type=module>import { renderMathInDocument } from '//unpkg.com/mathlive/dist/mathlive.mjs';
    renderMathInDocument();</script><h1>MathJSON Format</h1><p>The MathJSON format is a lightweight data interchange format for mathematical notation.<p>MathJSON is built on the <a href=https://www.json.org/ >JSON format</a>. Its focus is on interoperability between software programs to facilitate the exchange of mathematical data, as well as the building of scientific software through the integration of software components communicating with a common format.<p>It is human-readable, while being easy for machines to generate and parse. It is simple enough that it can be generated, consumed and manipulated using any programming languages.<p>MathJSON can be transformed from (parsing) and to (serialization) other formats, using a syntax specific to those formats.<p>The MathJSON library provides an implementation in Javascript/Typescript of utilities that parse Latex to MathJSON, serialize MathJSON to Latex, and provide a collection of functions for symbolic manipulation and numerical evaluations of MathJSON expressions. Read more about <a href=./latex-syntax/README.md>MathJSON for Latex</a> and the <a href=./compute-engine/README.md>Compute Engine</a>.<p>Mathematical notation is used in a broad array of fields, from elementary school arithmetic, engineering, applied mathematics to physics and more. New notations are invented regularly and need to be represented. To address those needs MathJSON is flexible, extensible and customizable. Extensible dictionaries give<p>MathJSON is not intended to be suitable as a visual representation of arbitrary mathematical notations, and as such is not a replacement for LaTeX or MathML.<h2>Examples</h2><table><thead><tr><th style=text-align:left>Latex<th style=text-align:left>MathJSON<tbody><tr><td style=text-align:left>$$\frac{a}{1+x}$$<td style=text-align:left><code>["Divide", "a", ["Add", 1, "x"]]</code><tr><td style=text-align:left>$$e^{\imaginaryI \pi }+1=0$$<td style=text-align:left><code>["Eq", ["Add", ["Power", "E", ["Multiply", "Pi", "ImaginaryI"], 1]], 0]</code><tr><td style=text-align:left>$$\sin^{-1}\prime(x)$$<td style=text-align:left><code>[["Derivative", 1, ["InverseFunction", "Sin"]], "x"]</code></table><h2>Structure of a MathJSON Expression</h2><p>A MathJSON expression is a combination of<ul><li>numbers<li>symbols and strings<li>functions</ul><table><thead><tr><th style=text-align:left><strong>Number</strong><tbody><tr><td style=text-align:left><code>3.14</code><tr><td style=text-align:left><code>314.e-2</code><tr><td style=text-align:left><code>{"num": "3.14"}</code><tr><td style=text-align:left><code>{"num": "-Infinity"}</code></table><table><thead><tr><th style=text-align:left><strong>Symbol</strong><tbody><tr><td style=text-align:left><code>"x"</code><tr><td style=text-align:left><code>"Pi"</code><tr><td style=text-align:left><code>{"sym": "Pi", "wikidata": "Q167" }</code></table><table><thead><tr><th style=text-align:left><strong>Function</strong><tbody><tr><td style=text-align:left><code>["Add", 1, "x"]</code><tr><td style=text-align:left><code>{"fn": [{sym: "Add"}, {num: "1"}, {sym: "x"}]}</code></table><p>Numbers, symbols and functions can be expressed either as an object literal with a <code>"num"</code>, <code>"sym"</code> or <code>"fn"</code> property, respectively, or as a short-hand notation using a number, string or array. The short-hand notation is more concise and easier to read, but cannot include metadata properties.<h2>Numbers</h2><p>A MathJSON number is either:<ul><li>an object literal<li>a JSON number</ul><h3>Numbers as Object Literals</h3><p>Numbers can be represented as an object literal with a <code>"num"</code> key. The value of the key is a string representation of the number.<pre><code class=language-typescript>{
    <span class=hljs-string>"num"</span>: <span class=hljs-built_in>string</span>
}
</code></pre><h3>JSON numbers</h3><p>When a number has no extra metadata and is compatible with the JSON representation of numbers, a <code>number</code> can be used.<p>Specifically:<ul><li>the number has to fit in a 64-bit float (IEEE 754-2008, about 15 digits of precision)<li>the number has to be finite (it cannot be <code>Infinity</code>, <code>-Infinity</code> or <code>NaN</code>)</ul><h3>Examples</h3><pre><code class=language-json><span class=hljs-number>0</span>

<span class=hljs-number>-234.534e-46</span>

{ <span class=hljs-attr>"num"</span>: <span class=hljs-string>"-234.534e-46"</span> }

{ <span class=hljs-attr>"num"</span>: <span class=hljs-string>"3.1415926535 8979323846 2643383279 5028841971 6939937510 5820974944"</span> }


{ <span class=hljs-attr>"num"</span>: <span class=hljs-string>"-Infinity"</span> }

</code></pre><h2>Symbols and strings</h2><p>Symbols represent constants and variables.<p>Symbols are represented as arbitrary strings of Unicode characters, except <strong>U+0020 (SPACE)</strong>. However, the following naming convention are recommended.<h3>Patterns</h3><p>Symbols that begin with <code>_</code> (<strong>U+005F LOW LINE</strong>) are reserved to denote pattern matches.<h3>Naming Convention for Variables</h3><ul><li><p>First character should match <code>/[a-zA-Z]/</code><li><p>Subsequent characters should match <code>/[a-zA-Z0-9_-]/</code><p>So for example use, <code>Gamma</code> rather than <code>ɣ</code> and <code>Total</code> rather than <code>∑</code> (<strong>U+2211 N-ARY SUMMATION</strong>), which looks like <code>Σ</code> (<strong>U+03A3 GREEK CAPITAL LETTER SIGMA</strong>). This visual ambiguity of some Unicode symbols frequently used in math is why we recommend a more restricted character set.<li><p>If a variable is made of several words, use camelCase, i.e. <code>newDeterminant</code><li><p>Prefer clarity over brevity and avoid obscure abbreviations.<p>Use <code>newDeterminant</code> rather than <code>newDet</code> or <code>nDet</code><li><p>The following variables are usually real numbers: <code>x</code>, <code>y</code>, <code>t</code><li><p>The following variables are usually integers: <code>i</code>, <code>n</code>, <code>p</code>, <code>q</code><li><p>The following variables are usually complex numbers: <code>z</code>, <code>w</code><li><p>The following variables are usually lists: <code>xs</code>, <code>ys</code>, <code>ns</code></ul><h3>Naming Convention for Constants</h3><ul><li>First character of constants should match: <code>/[A-Z]/</code><li>Subsequent characters of constants should match: <code>/[a-zA-Z0-9_]/</code><li>If a constant is made up of several words, use camelCase, e.g. <code>SpeedOfLight</code></ul><h2>Functions</h2><p>A MathJSON function is either:<ul><li>an object literal<li>a JSON array</ul><h3>Functions as Object Literal</h3><p>The default representations of functions is as an object literal with a <code>"fn"</code> key. The value of the key is an array representing the function head and its arguments.<pre><code class=language-typescript>{
    <span class=hljs-string>"fn"</span>: Expression[]
}
</code></pre><p>The <strong>head</strong> of the function is the first element in the array. Its presence is required. It indicates the ‘function name’ or ‘what’ the function is about.<p>It frequently is a string, but it can also be another expression.<p>Following the head are zero or more <strong>arguments</strong> to the function, which are expressions as well.<p>The expression corresponding to $$\sin^{-1}(x)$$ is<pre><code class=language-json>[[<span class=hljs-string>"InverseFunction"</span>, <span class=hljs-string>"Sin"</span>], <span class=hljs-string>"x"</span>]
</code></pre><p>The head of this expression is <code>["InverseFunction", "Sin"]</code>, and the argument is “x”.<h3>JSON array</h3><p>If a function has no extra metadata it can be represented as a JSON array.<p>For example these two expressions are equivalent:<pre><code class=language-json>[<span class=hljs-string>"Cos"</span>, [<span class=hljs-string>"Add"</span>, <span class=hljs-string>"x"</span>, <span class=hljs-number>1</span>]]

{ <span class=hljs-attr>"fn"</span>: [<span class=hljs-string>"Cos"</span>, [<span class=hljs-string>"Add"</span>, <span class=hljs-string>"x"</span>, <span class=hljs-number>1</span>]] }
</code></pre><h2>Metadata</h2><p>MathJSON object literals can be annotated with supplemental information. If a number represented as a JSON number or a symbol represented as a string needs to be annotated, they must be transformed into the equivalent object literal first.<p>The following properties are recommended to represent metadata:<table><thead><tr><th style=text-align:left>Property<th style=text-align:left>Example<th style=text-align:left>Note<tbody><tr><td style=text-align:left><code>wikidata</code><td style=text-align:left><code>"Q167"</code><td style=text-align:left>A short string indicating an entry in a wikibase. This information can be used to disambiguate the meaning of a symbol<tr><td style=text-align:left><code>comment</code><td style=text-align:left><td style=text-align:left>A human readable string to annotate an expression, since JSON does not allow comments in its encoding<tr><td style=text-align:left><code>latex</code><td style=text-align:left><code>"\pi"</code><td style=text-align:left>A visual representation in LaTeX of the expression. This can be useful to preserve non-semantic details, for example parentheses in an expression or styling attributes</table></section><footer class=page__meta><meta content="February 19, 2021"itemprop=datePublished><p class=page__date><strong><i aria-hidden=true class="fa-calendar-alt fa-fw fas"></i> Updated:</strong> <time datetime="Fri Feb 19 2021 16:31:18 GMT+0100 (Central European Standard Time)">February 19, 2021</time></footer></div></article></div></div><div class=page__footer id=footer><footer><div class=page__footer-follow><ul class=social-icons><li><a href=https://github.com/cortex-js rel="nofollow noopener noreferrer"><svg class=icon1em><use role=none xlink:href=/assets/icons.svg#github></use></svg>GitHub</a><li><a href=https://gitter.im/cortex-js rel="nofollow noopener noreferrer"><svg class=icon1em><use role=none xlink:href=/assets/icons.svg#gitter></use></svg>Gitter</a></ul></div><div class=page__footer-pages><ul><li><a href=/about rel="nofollow noopener noreferrer">About Us</a></ul></div></footer></div>