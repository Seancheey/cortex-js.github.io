<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">


<title>
    CortexJS
</title>
<meta name="description" content="" />


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="CortexJS Feed">

<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="referrer" content="strict-origin" />

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>


  
    
      
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.59.1/codemirror.min.js" crossorigin='anonymous'></script>
  
    
      
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.59.1/mode/javascript/javascript.min.js" crossorigin='anonymous'></script>
  
    
      
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.59.1/mode/xml/xml.min.js" crossorigin='anonymous'></script>
  



  
    
      
    
    <script type="module" src="/assets/js/code-playground.js" crossorigin='anonymous'></script>
  



<link rel="stylesheet" href="/assets/css/main.css">

  
    
      
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.59.1/codemirror.min.css">
  
    
      
    
    <link rel="stylesheet" href="/assets/js/ui.css">
  





    <link
    crossorigin
    href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:100,100i,400,400i,700,700i,900,900i&display=block"
    rel="stylesheet"
/>

<link
    crossorigin
    rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@0,400;0,700;1,400;1,700&family=IBM+Plex+Sans:ital,wght@0,400;0,700;1,400;1,700&display=block"
/>


<script src="https://kit.fontawesome.com/523e3eb8bb.js" crossorigin="anonymous"></script>

<!-- <script>
  // ((window.gitter = {}).chat = {}).options = {
  //   room: 'cortex-js/community',
  //   activationElement: '.my-special-button',
  //   targetElement: '.my-special-target-element'
  // };
</script> -->
<!-- <script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async defer></script> -->

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    
  


<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/"><img src="" alt=""></a>
        
        <a class="site-title" href="/">
          Cortex<em>JS</em>
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
                <a href="/mathlive/" >MathLive</a>
              </li><li class="masthead__menu-item">
                <a href="/compute-engine/" >Compute Engine</a>
              </li><li class="masthead__menu-item">
                <a href="/cortex/" >Cortex</a>
              </li><li class="masthead__menu-item separator"></li><li class="masthead__menu-item">
                <a href="/docs/" >Docs</a>
              </li><li class="masthead__menu-item">
                <a href="https://gitter.im/cortex-js" title="Chat on Gitter"><svg class='icon1em'><use role='none' xlink:href='/assets/icons.svg#gitter'></use></svg></a>
              </li><li class="masthead__menu-item">
                <a href="https://github.com/cortex-js" title="Get source code on GitHub"><svg class='icon1em'><use role='none' xlink:href='/assets/icons.svg#github'></use></svg></a>
              </li></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      




<div id="main" role="main">
  
  <div class="sidebar sticky">
    
      
      
      

      
<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc"><svg aria-hidden="true" focusable="false" data-prefix="fal" data-icon="ellipsis-h" class="svg-inline--fa fa-ellipsis-h" style="width:32px; height: 32px;" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M192 256c0 17.7-14.3 32-32 32s-32-14.3-32-32 14.3-32 32-32 32 14.3 32 32zm88-32c-17.7 0-32 14.3-32 32s14.3 32 32 32 32-14.3 32-32-14.3-32-32-32zm-240 0c-17.7 0-32 14.3-32 32s14.3 32 32 32 32-14.3 32-32-14.3-32-32-32z"></path></svg></label>
  <ul class="nav__items">
    
      <li>
        
          <span class="nav__sub-title">Compute Engine</span>
        

        
        <ul>
          
            
            
              
                
              

              
              
                
              

              <li><a href="/compute-engine/" class="">Introduction</a></li>
            
          
            
            
              <li class="separator"></li>
            
          
            
            
              
                
              

              
              
                
              

              <li><a href="/guides/math-json/latex-syntax/" class="">Latex Syntax</a></li>
            
          
            
            
              
                
              

              
              
                
              

              <li><a href="/guides/compute-engine/symbolic-computing/" class="">Symbolic Computing</a></li>
            
          
            
            
              
                
              

              
              
                
              

              <li><a href="/guides/compute-engine/numerical-evaluation/" class="">Numerical Evaluation</a></li>
            
          
            
            
              
                
              

              
              
                
              

              <li><a href="/guides/compute-engine/assumptions/" class="">Assumptions</a></li>
            
          
            
            
              
                
              

              
              
                
              

              <li><a href="/guides/compute-engine/domains/" class="">Domains</a></li>
            
          
            
            
              
                
              

              
              
                
              

              <li><a href="/guides/compute-engine/patterns/" class="">Patterns</a></li>
            
          
            
            
              
                
              

              
              
                
              

              <li><a href="/guides/compute-engine/forms/" class="active">Canonical Forms</a></li>
            
          
            
            
              <li class="separator"></li>
            
          
            
            
              
                
              

              
              
                
              

              <li><a href="/docs/compute-engine/" class="">SDK Reference</a></li>
            
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Dictionary</span>
        

        
        <ul>
          
            
            
              
                
              

              
              
                
              

              <li><a href="/guides/compute-engine/dictionaries/" class="">Introduction</a></li>
            
          
            
            
              <li class="separator"></li>
            
          
            
            
              
                
              

              
              
                
              

              <li><a href="/guides/compute-engine/arithmetic/" class="">Arithmetic</a></li>
            
          
            
            
              
                
              

              
              
                
              

              <li><a href="/guides/compute-engine/calculus/" class="">Calculus</a></li>
            
          
            
            
              
                
              

              
              
                
              

              <li><a href="/guides/compute-engine/collections/" class="">Collections</a></li>
            
          
            
            
              
                
              

              
              
                
              

              <li><a href="/guides/compute-engine/core/" class="">Core</a></li>
            
          
            
            
              
                
              

              
              
                
              

              <li><a href="/guides/compute-engine/logic/" class="">Logic</a></li>
            
          
            
            
              
                
              

              
              
                
              

              <li><a href="/guides/compute-engine/sets/" class="">Sets</a></li>
            
          
            
            
              
                
              

              
              
                
              

              <li><a href="/guides/compute-engine/trigonometry/" class="">Trigonometry</a></li>
            
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">MathJSON</span>
        

        
        <ul>
          
            
            
              
                
              

              
              
                
              

              <li><a href="/math-json/" class="">Introduction</a></li>
            
          
            
            
              
                
              

              
              
                
              

              <li><a href="/guides/math-json/format/" class="">MathJSON Format</a></li>
            
          
            
            
              <li class="separator"></li>
            
          
            
            
              
                
              

              
              
                
              

              <li><a href="/docs/mathjson/" class="">SDK Reference</a></li>
            
          
        </ul>
        
      </li>
    
      <li>
        
          
          
            
          

          <a href="/mathlive/"><span class="nav__sub-title">MathLive</span></a>
        

        
      </li>
    
      <li>
        
          
          
            
          

          <a href="/cortex/"><span class="nav__sub-title">Cortex</span></a>
        

        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Contributing</span>
        

        
        <ul>
          
            
            
              
                
              

              
              
                
              

              <li><a href="/docs/reporting-issues/" class="">Reporting Issues</a></li>
            
          
            
            
              
                
              

              
              
                
              

              <li><a href="/funding/" class="">Funding</a></li>
            
          
            
            
              
                
              

              
              
                
              

              <li><a href="/docs/code-of-conduct/" class="">Code of Conduct</a></li>
            
          
            
            
              
                
              

              
              
                
              

              <li><a href="/docs/license/" class="">License</a></li>
            
          
        </ul>
        
      </li>
    
  </ul>
</nav>
    
  </div>


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">

    <div class="page__inner-wrap">
      
        <header>
          
        </header>
      

      <section class="page__content" itemprop="text">
        
        <script type='module'>
    import {  renderMathInDocument } 
      from '//unpkg.com/mathlive/dist/mathlive.min.mjs';
    renderMathInDocument({
      TeX: {
        delimiters: {
          inline: [ ['$', '$'], ['\\(', '\\)']],
          display: [['$$', '$$'],['\\[', '\\]']],
        },
      },
      asciiMath: null,
      processEnvironments : false,
      renderAccessibleContent: false,
    });
</script>
<h1>Canonical Forms</h1>
<p>A mathematical expression has many equivalent representations.</p>
<p>For example, the expressions in each row below represent the same mathematical
object:</p>
<table>
<thead>
<tr>
<th style="text-align:left"></th>
<th style="text-align:left"></th>
<th style="text-align:left"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">\[ 215.3465 \]</td>
<td style="text-align:left">\[ 2.15346\mathrm{e}2 \]</td>
<td style="text-align:left">\[  2.15346 \times 10^2\]</td>
</tr>
<tr>
<td style="text-align:left">\[ x - 1 \]</td>
<td style="text-align:left">\[-1 + x \]</td>
<td style="text-align:left">\[  -(1) + x\]</td>
</tr>
<tr>
<td style="text-align:left">\[ -2x^{-1}\]</td>
<td style="text-align:left">\[ -\frac{2}{x} \]</td>
<td style="text-align:left">\[ 2 \left( \frac{-1}{x} \right) \]</td>
</tr>
</tbody>
</table>
<p>By applying some conventions, for example wether to write constants before
or after variables in a sum, how to sort variables and functions, we define a <strong>canonical</strong>
representation. A canonical representation is somewhat arbitrary, but using
it consistently can make some operations easier, for example, comparing two
expressions for equality.</p>
<p>The canonical form used by the Compute Engine has been selected to follow
common (but by no mean universal)  conventions in writing mathematical
expressions, as well as expressing them in a way that can optimize their computation.</p>
<p><strong>To obtain the canonical representation of an expression</strong>, use the
<code>ComputeEngine.canonical()</code> function.</p>
<p>The default canonical representation applies a series of transformation to
put sums, products, numbers, roots, etc… in canonical form. Each of
these steps  can also be applied separately for more control over the result.
The list of available formats is listed below.</p>
<p>Applying a canonical form is applying some rewriting rules to an expression.
In that sense, it is similar to simplifying an expression with
<code>ComputeEngine.simplify()</code>, but it is more conservative in which transformations
it will consider, and it will not take into account any assumptions about
symbols.</p>
<div class=symbols-table>
<table>
<thead>
<tr>
<th style="text-align:left">Form</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>canonical</code></td>
<td style="text-align:left">Apply the following transformations, in order: <ul><li> <code>canonical-number</code></li><li><code>canonical-exp</code></li><li><code>canonical-root</code></li><li><code>canonical-subtract</code></li><li><code>canonical-divide</code></li><li><code>canonical-power</code></li><li><code>canonical-multiply</code></li><li><code>canonical-negate</code></li><li><code>canonical-add</code></li><li><code>flatten</code></li><li><code>sorted</code></li><li><code>full</code></li></ul></td>
</tr>
<tr>
<td style="text-align:left"><code>canonical-add</code></td>
<td style="text-align:left">Addition of 0 is simplified, associativity rules are applied, unnecessary groups are removed, single argument <code>Add</code> are simplified</td>
</tr>
<tr>
<td style="text-align:left"><code>canonical-boolean</code></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left"><code>canonical-divide</code></td>
<td style="text-align:left">Division by 1 is simplified</td>
</tr>
<tr>
<td style="text-align:left"><code>canonical-domain</code></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left"><code>canonical-multiply</code></td>
<td style="text-align:left">Multiplication by \( 1 \)  or \( -1 \) is simplified</td>
</tr>
<tr>
<td style="text-align:left"><code>canonical-negate</code></td>
<td style="text-align:left"><code>Negate</code> of a number is replaced by the negative of the number. Negation of negation is simplified</td>
</tr>
<tr>
<td style="text-align:left"><code>canonical-list</code></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left"><code>canonical-number</code></td>
<td style="text-align:left">Complex numbers with no imaginary components are simplified</td>
</tr>
<tr>
<td style="text-align:left"><code>canonical-power</code></td>
<td style="text-align:left"><code>Power</code> with a first or second argument of 1 is simplified</td>
</tr>
<tr>
<td style="text-align:left"><code>canonical-subtract</code></td>
<td style="text-align:left"><code>Subtract</code> is replaced with <code>Add</code> and <code>Negate</code></td>
</tr>
<tr>
<td style="text-align:left"><code>flatten</code></td>
<td style="text-align:left">Associative functions are combined, e.g. \( f(f(a, b), c) \longrightarrow f(a, b, c) \)</td>
</tr>
<tr>
<td style="text-align:left"><code>json</code></td>
<td style="text-align:left">Only transformations necessary to make the expression valid JSON, for example making sure that <code>Infinity</code> and <code>NaN</code> are represented as strings</td>
</tr>
<tr>
<td style="text-align:left"><code>object-literal</code></td>
<td style="text-align:left">Each term of the expression is expressed as an object literal: no shorthand representation is used. For example, the number \( 4\) is represented as <code>{ num: &quot;4&quot; }</code> not as <code>4</code>.</td>
</tr>
<tr>
<td style="text-align:left"><code>shorthand</code></td>
<td style="text-align:left">Each term of the expression is expressed as a shorthand when possible, for example a number or a string.</td>
</tr>
<tr>
<td style="text-align:left"><code>sorted</code></td>
<td style="text-align:left">The arguments of commutative functions are sorted such that: <ul><li> numbers are first, sorted numerically </li><li> complex numbers are next, sorted numerically by imaginary value </li><li> symbols are next, sorted lexicographically </li><li> <code>add</code> functions are next </li><li> <code>multiply</code> functions are next </li><li> <code>power</code> functions are next, sorted by their first argument, then by their second argument </li><li> other functions follow, sorted lexicographically</li></ul></td>
</tr>
<tr>
<td style="text-align:left"><code>stripped-metadata</code></td>
<td style="text-align:left">Any metadata associated with elements of the expression is removed, for example associated WikiData or Latex properties</td>
</tr>
<tr>
<td style="text-align:left"><code>sum-product</code></td>
<td style="text-align:left"></td>
</tr>
</tbody>
</table>
</div>
<ul>
<li>
<p><strong><code>'canonical-exp'</code></strong>: <code>exp</code> is replaced with <code>power</code></p>
</li>
<li>
<p><strong><code>'canonical-root'</code></strong>: <code>root</code> is replaced with <code>power</code></p>
</li>
</ul>
<p><strong>To transform an expression using the rules for a particular form</strong>, use the
<code>format()</code> function.</p>
<pre><code class="language-js"><span class="hljs-keyword">import</span> { format } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;math-json&#x27;</span>;

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">format</span>([<span class="hljs-string">&quot;Add&quot;</span>, <span class="hljs-number">2</span>, <span class="hljs-string">&quot;x&quot;</span>, <span class="hljs-number">3</span>], <span class="hljs-string">&#x27;canonical&#x27;</span>);
<span class="hljs-comment">// ➔ [&quot;Add&quot;, 2, 3, &quot;x&quot;]</span>
</code></pre>
<h2><code>BaseForm</code></h2>
<p><code>[&quot;BaseForm&quot;, _value_, _base_]</code></p>
<p>Format a <em>value</em> in a specific <em>base</em>, such as hexadecimal or binary.</p>
<ul>
<li><em>value</em> should be an integer.</li>
<li><em>base</em> should be an integer from 2 to 36.</li>
</ul>
<pre><code class="language-json"><span class="hljs-punctuation">[</span><span class="hljs-string">&quot;Latex&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-punctuation">[</span><span class="hljs-string">&quot;BaseForm&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-number">42</span><span class="hljs-punctuation">,</span> <span class="hljs-number">16</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">]</span>
<span class="hljs-comment">// ➔ (\mathtt(2a))_{16}</span>
</code></pre>
<pre><code class="language-cortex">Latex(BaseForm(42, 16))
// ➔ (\mathtt(2a))_{16}
BaseForm(42, 16)
// ➔ 0x2a
</code></pre>

        
      </section>

      <footer class="page__meta">
        
        


        <meta itemprop="datePublished" content="June 16, 2021">
        
        
          <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="Wed Jun 16 2021 08:10:17 GMT+0200 (Central European Summer Time)">June 16, 2021</time></p>
        
      </footer>


      
    </div>

  </article>
</div>
    </div>

    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
    <ul class="social-icons">
         
         
         
         
         
         
         
        
        <li>
            <a href="https://github.com/cortex-js" rel="nofollow noopener noreferrer"
                ><svg class='icon1em'><use role='none' xlink:href='/assets/icons.svg#github'></use></svg>GitHub</a
            >
        </li>
         
         
         
         
         
         
         
         
        
        <li>
            <a href="https://gitter.im/cortex-js" rel="nofollow noopener noreferrer"
                ><svg class='icon1em'><use role='none' xlink:href='/assets/icons.svg#gitter'></use></svg>Gitter</a
            >
        </li>
         
         
        

    </ul>
</div>
<div class="page__footer-pages">
             
    <ul>
         
        
        <li>
            <a href="/funding" rel="nofollow noopener noreferrer">Funding</a
            >
        </li>
         
         
        
        <li>
            <a href="/about" rel="nofollow noopener noreferrer">About Us</a
            >
        </li>
         
         
    </ul>
        

</div>
      </footer>
    </div>

    
  <!-- <script src="/assets/js/main.min.js"></script> -->









  </body>
</html>