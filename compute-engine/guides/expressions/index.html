<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">




<title>
    CortexJS
</title>
<meta name="description" content="" />
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ECEC8YT7XS"></script>
<script>
  if(/cortexjs\.io/.test(window.location.hostname)) {
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-ECEC8YT7XS');
  }
</script>


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="CortexJS Feed">

<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="referrer" content="strict-origin" />


<link rel="icon" href="data:," />

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>


  
    
      
    
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.3/codemirror.min.js" crossorigin='anonymous'></script>
  
    
      
    
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.3/mode/javascript/javascript.min.js" crossorigin='anonymous'></script>
  
    
      
    
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.3/mode/xml/xml.min.js" crossorigin='anonymous'></script>
  





<link rel="stylesheet" href="/assets/css/main.css">

  
    
      
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.3/codemirror.min.css">
  
    
      
    
    <link rel="stylesheet" href="/assets/js/ui.css">
  





    <link rel="preconnect" href="https://kit.fontawesome.com">
<script src="https://kit.fontawesome.com/523e3eb8bb.js" crossorigin="anonymous"></script>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link crossorigin href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital@0;1&family=IBM+Plex+Sans:ital,wght@0,100;0,400;0,600;0,700;1,400&display=block" rel="stylesheet">


<!-- <script>
  // ((window.gitter = {}).chat = {}).options = {
  //   room: 'cortex-js/community',
  //   activationElement: '.my-special-button',
  //   targetElement: '.my-special-target-element'
  // };
</script> -->
<!-- <script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async defer></script> -->

  </head>

  <body class="layout--single">
    <svg xmlns="http://www.w3.org/2000/svg" style="display:none">
      <defs>
          <symbol id='svg-chevron' aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14"><path fill="currentColor" d="m4.81347656 13.1269531c.22558594 0 .41015625-.0820312.56738282-.2324219l5.31835942-5.19531245c.1845703-.19140625.2802734-.38964844.2802734-.63574219 0-.23925781-.0888672-.45117187-.2802734-.62890625l-5.31835942-5.20214843c-.15722657-.15039063-.34179688-.23242188-.56738282-.23242188-.45800781 0-.81347656.35546875-.81347656.80664062 0 .21875.09570312.43066407.24609375.58789063l4.79199219 4.67578125-4.79199219 4.6621094c-.15722656.1640625-.24609375.3623047-.24609375.5878906 0 .4511719.35546875.8066406.81347656.8066406z"></path></symbol>
      </defs>
    </svg>
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    
  




<div class="masthead ">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        <input id="site-toc" name="site-toc" type="checkbox" />
        <label for="site-toc"><svg aria-hidden="true" focusable="false" data-prefix="far" data-icon="bars" class="svg-inline--fa fa-bars fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></label>
        
        <a class="site-title" href="/">
          Cortex<em>JS</em>
          
        </a>
        <ul class="visible-links">
              
              <li class="masthead__menu-item ">
                <a href="/mathlive/" >MathLive</a>
              </li>
              
              <li class="masthead__menu-item  active ">
                <a href="/compute-engine/" >Compute Engine</a>
              </li>
              
              <li class="masthead__menu-item ">
                <a href="/cortex/" >Cortex</a>
              </li>
              
              <li class="masthead__menu-item ">
                <a href="https://gitter.im/cortex-js" title="Chat on Gitter"><svg class='icon1quarterem'><use role='none' xlink:href='/assets/icons.svg#gitter'></use></svg></a>
              </li>
              
              <li class="masthead__menu-item ">
                <a href="https://github.com/cortex-js" title="Get source code on GitHub"><svg class='icon1quarterem'><use role='none' xlink:href='/assets/icons.svg#github'></use></svg></a>
              </li></ul>
        
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      




<div id="main" role="main">
  
  <div class="sidebar sticky">
    
      
      
      

      
<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc"><svg aria-hidden="true" focusable="false" data-prefix="far" data-icon="bars" class="svg-inline--fa fa-bars fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg>
Table of Content</label>

  <ul class="nav__items">
    
      <li>
        
          <span class="nav__sub-title">Compute Engine</span>
        

        
        <ul>
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/compute-engine/" data-url=/compute-engine/guides/expressions/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#intro"></use></svg>
                  
                  Introduction
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/compute-engine/demo/" data-url=/compute-engine/guides/expressions/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#flask"></use></svg>
                  
                  Demo
                </a></li>
            
          
            
            
              <li class="separator"></li>
              </ul></li><li><ul>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/compute-engine/changelog/" data-url=/compute-engine/guides/expressions/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#log"></use></svg>
                  
                  Changelog
                </a></li>
            
          
            
            
              <li class="separator"></li>
              </ul></li><li><ul>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/compute-engine/guides/expressions/" data-url=/compute-engine/guides/expressions/ class="active">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#guide"></use></svg>
                  
                  Expressions
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/compute-engine/guides/symbols/" data-url=/compute-engine/guides/expressions/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#guide"></use></svg>
                  
                  Symbols
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/compute-engine/guides/latex-syntax/" data-url=/compute-engine/guides/expressions/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#guide"></use></svg>
                  
                  LaTeX Syntax
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/compute-engine/guides/symbolic-computing/" data-url=/compute-engine/guides/expressions/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#guide"></use></svg>
                  
                  Symbolic Computing
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/compute-engine/guides/canonical-form/" data-url=/compute-engine/guides/expressions/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#guide"></use></svg>
                  
                  Canonical Form
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/compute-engine/guides/simplify/" data-url=/compute-engine/guides/expressions/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#guide"></use></svg>
                  
                  Simplify
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/compute-engine/guides/evaluate/" data-url=/compute-engine/guides/expressions/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#guide"></use></svg>
                  
                  Evaluation
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/compute-engine/guides/numeric-evaluation/" data-url=/compute-engine/guides/expressions/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#guide"></use></svg>
                  
                  Numeric Evaluation
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/compute-engine/guides/assumptions/" data-url=/compute-engine/guides/expressions/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#guide"></use></svg>
                  
                  Assumptions
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/compute-engine/guides/domains/" data-url=/compute-engine/guides/expressions/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#guide"></use></svg>
                  
                  Domains
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/compute-engine/guides/patterns-and-rules/" data-url=/compute-engine/guides/expressions/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#guide"></use></svg>
                  
                  Patterns and Rules
                </a></li>
            
          
            
            
              <li class="separator"></li>
              </ul></li><li><ul>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/docs/compute-engine/" data-url=/compute-engine/guides/expressions/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#sdk"></use></svg>
                  
                  SDK Reference
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/math-json/" data-url=/compute-engine/guides/expressions/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#reference"></use></svg>
                  
                  The MathJSON Format
                </a></li>
            
          
            
            
              <li class="separator"></li>
              </ul></li><li><ul>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/compute-engine/guides/dictionaries/" data-url=/compute-engine/guides/expressions/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#intro"></use></svg>
                  
                  Dictionaries
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/compute-engine/reference/arithmetic/" data-url=/compute-engine/guides/expressions/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#reference"></use></svg>
                  
                  Arithmetic
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/compute-engine/reference/calculus/" data-url=/compute-engine/guides/expressions/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#reference"></use></svg>
                  
                  Calculus
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/compute-engine/reference/collections/" data-url=/compute-engine/guides/expressions/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#reference"></use></svg>
                  
                  Collections
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/compute-engine/reference/core/" data-url=/compute-engine/guides/expressions/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#reference"></use></svg>
                  
                  Core
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/compute-engine/reference/domains/" data-url=/compute-engine/guides/expressions/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#reference"></use></svg>
                  
                  Domains
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/compute-engine/reference/logic/" data-url=/compute-engine/guides/expressions/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#reference"></use></svg>
                  
                  Logic
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/compute-engine/reference/sets/" data-url=/compute-engine/guides/expressions/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#reference"></use></svg>
                  
                  Sets
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/compute-engine/reference/special-functions/" data-url=/compute-engine/guides/expressions/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#reference"></use></svg>
                  
                  Special Functions
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/compute-engine/reference/styling/" data-url=/compute-engine/guides/expressions/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#reference"></use></svg>
                  
                  Styling
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/compute-engine/reference/trigonometry/" data-url=/compute-engine/guides/expressions/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#reference"></use></svg>
                  
                  Trigonometry
                </a></li>
            
          
        </ul>
        
      </li>
    
      <li>
        
          
          
            
          

          <span class="nav__sub-title"><a href="/mathlive/">MathLive</a></span>
        

        
      </li>
    
      <li>
        
          
          
            
          

          <span class="nav__sub-title"><a href="/cortex/">Cortex</a></span>
        

        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Contributing</span>
        

        
        <ul>
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/docs/reporting-issues/" data-url=/compute-engine/guides/expressions/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#bug"></use></svg>
                  
                  Reporting Issues
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/docs/contributing-code/" data-url=/compute-engine/guides/expressions/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#code-branch"></use></svg>
                  
                  Contributing Code
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/funding/" data-url=/compute-engine/guides/expressions/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#seedling"></use></svg>
                  
                  Funding
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/docs/code-of-conduct/" data-url=/compute-engine/guides/expressions/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#handshake"></use></svg>
                  
                  Code of Conduct
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/docs/license/" data-url=/compute-engine/guides/expressions/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#handshake"></use></svg>
                  
                  License
                </a></li>
            
          
        </ul>
        
      </li>
    
  </ul>
</nav>
    
  </div>


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">

    <div class="page__inner-wrap">

      <section class="page__content" itemprop="text">
        
        <h1>Expressions</h1>
<p>The CortexJS Compute Engine produces and manipulates
<a href="https://en.wikipedia.org/wiki/Expression_(mathematics)">symbolic expressions</a>
such as numbers, constants, variables and functions.</p>
<p>Expressions are represented using the <a href="/math-json/">MathJSON format</a>.</p>
<p>In the CortexJS Compute Engine, MathJSON expressions are wrapped in a JavaScript
object, a processed called <strong>boxing</strong>, and the resulting expressions are <strong>Boxed
Expressions</strong>.</p>
<p>Unlike the plain data types used by JSON, Boxed Expressions allow an IDE, such
as VSCode Studio, to provide suitable hints in the editor, and to check that the
correct functions and properties are used, particularly when using TypeScript.</p>
<p>Boxed Expressions also improve performance by implementing caching and avoiding
repetitive calculations.</p>
<h2>Boxing</h2>
<p><strong>To create a Boxed Expression from a MathJSON expression</strong>, use the <code>ce.box()</code>
function.</p>
<p>The result is an instance of a subclass of <code>BoxedExpression</code>, such as
<code>BoxedNumber</code> <code>BoxedFunction</code> etc…</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> expr = ce.<span class="hljs-title function_">box</span>(<span class="hljs-number">1.729e3</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(expr.<span class="hljs-property">machineNumber</span>);
<span class="hljs-comment">// ➔ 1729</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(expr.<span class="hljs-property">isPositive</span>);
<span class="hljs-comment">// ➔ true</span>

expr = ce.<span class="hljs-title function_">box</span>({ <span class="hljs-attr">num</span>: <span class="hljs-string">&#x27;+Infinity&#x27;</span> });
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(expr.<span class="hljs-property">latex</span>);
<span class="hljs-comment">// ➔ +\infty</span>

expr = ce.<span class="hljs-title function_">box</span>([<span class="hljs-string">&#x27;Add&#x27;</span>, <span class="hljs-number">3</span>, <span class="hljs-string">&#x27;x&#x27;</span>]);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(expr.<span class="hljs-property">head</span>);
<span class="hljs-comment">// ➔ &quot;Add&quot;</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(expr.<span class="hljs-property">isPositive</span>);
<span class="hljs-comment">// undefined</span>
</code></pre>
<p><strong>To create a Boxed Expression from a LaTeX string</strong>, call the <code>ce.parse()</code>
function.</p>
<pre><code class="language-js"><span class="hljs-keyword">const</span> expr = ce.<span class="hljs-title function_">parse</span>(<span class="hljs-string">&#x27;3 + x + y&#x27;</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(expr.<span class="hljs-property">head</span>);
<span class="hljs-comment">// ➔ &quot;Add&quot;</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(expr.<span class="hljs-property">json</span>);
<span class="hljs-comment">// ➔ [&quot;Add&quot;, 3, &quot;x&quot;, &quot;y&quot;]</span>
</code></pre>
<p>If using MathLive, you can directly obtain an expression representing the
content of a mathfield using the <code>expression</code> property:</p>
<pre><code class="language-js"><span class="hljs-keyword">const</span> mf = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;input&#x27;</span>);
mf.<span class="hljs-property">value</span> = <span class="hljs-string">&#x27;\\frac{10}{5}&#x27;</span>;
<span class="hljs-keyword">const</span> expr = mf.<span class="hljs-property">expression</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(expr.evaluate().<span class="hljs-property">latex</span>);
<span class="hljs-comment">// ➔ 2</span>
</code></pre>
<h2>Unboxing</h2>
<p><strong>To access the MathJSON expression of a boxed expression</strong>, use the <code>expr.json</code>
property. Use this property to “look inside the box”.</p>
<pre><code class="language-js"><span class="hljs-keyword">const</span> expr = ce.<span class="hljs-title function_">box</span>([<span class="hljs-string">&#x27;Add&#x27;</span>, <span class="hljs-number">3</span>, <span class="hljs-string">&#x27;x&#x27;</span>]);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(expr.<span class="hljs-property">json</span>);
<span class="hljs-comment">// ➔ [&#x27;Add&#x27;, 3, &#x27;x&#x27;]</span>
</code></pre>
<p><strong>To customize the format of the MathJSON expression</strong> use the
<code>ce.jsonSerializationOptions</code> property.</p>
<p>You can use this option to control which metadata, if any, should be included,
whether to use shorthand notation, and to exclude some functions.</p>
<pre><code class="language-ts"><span class="hljs-keyword">const</span> expr = ce.<span class="hljs-title function_">parse</span>(<span class="hljs-string">&#x27;2 + \\frac{q}{p}&#x27;</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(expr.<span class="hljs-property">canonical</span>.<span class="hljs-property">json</span>);
<span class="hljs-comment">// ➔ [&quot;Add&quot;, 2, [&quot;Divide&quot;, &quot;q&quot;, &quot;p&quot;]]</span>

ce.<span class="hljs-property">jsonSerializationOptions</span> = {
  <span class="hljs-attr">exclude</span>: [<span class="hljs-string">&#x27;Divide&#x27;</span>], <span class="hljs-comment">// Don&#x27;t use `Divide` functions,</span>
  <span class="hljs-comment">// use `Multiply`/`Power` instead</span>
  <span class="hljs-attr">shorthands</span>: [], <span class="hljs-comment">// Don&#x27;t use any shorthands</span>
};

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(expr.<span class="hljs-property">canonical</span>.<span class="hljs-property">json</span>);
<span class="hljs-comment">// ➔ [&quot;fn&quot;: [&quot;Add&quot;, [&quot;num&quot;: &quot;2&quot;],</span>
<span class="hljs-comment">//      [&quot;fn&quot;: [&quot;Multiply&quot;,</span>
<span class="hljs-comment">//        [&quot;sym&quot;: &quot;q&quot;],</span>
<span class="hljs-comment">//        [&quot;fn&quot;: [&quot;Power&quot;, [&quot;sym&quot;: &quot;p&quot;], [&quot;num&quot;: &quot;-1&quot;]]]]</span>
<span class="hljs-comment">//      ]</span>
<span class="hljs-comment">//    ]]</span>
</code></pre>
<section id='pure'>
<h2>Immutability</h2>
<p><strong>Boxed expressions are immutable</strong>. Once a Boxed Expression has been created it
cannot be changed to represent a different mathematical object.</p>
<p>The functions that manipulate Boxed Expressions, such as <code>expr.simplify()</code>,
return a new Boxed Expression, without modifying <code>expr</code>.</p>
<p>However, the properties of the expression may change, since some of them may
depend on contextual information which can change over time.</p>
<p>For example, <code>expr.isPositive</code> may return <code>undefined</code> if nothing is known about
a symbol. But if an assumption about the symbol is made later, or a value
assigned to it, then <code>expr.isPositive</code> may take a different value.</p>
<pre><code class="language-js"><span class="hljs-keyword">const</span> expr = ce.<span class="hljs-title function_">box</span>(<span class="hljs-string">&#x27;x&#x27;</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(expr.<span class="hljs-property">isPositive</span>);
<span class="hljs-comment">// ➔ undefined</span>

ce.<span class="hljs-title function_">assume</span>(<span class="hljs-string">&#x27;x &gt; 0&#x27;</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(expr.<span class="hljs-property">isPositive</span>);
<span class="hljs-comment">// ➔ true</span>
</code></pre>
<p>What doesn’t change is the fact that <code>expr</code> represents the symbol <code>&quot;x&quot;</code>.</p>
<h2>Pure Expressions</h2>
<p>A pure expression is an expression whose value is fixed. Evaluating it produces
no side effect (doesn’t change something outside its arguments to do something).</p>
<p>The \( \sin() \) function is pure: if you invoke it with the same arguments,
it will have the same value.</p>
<p>On the other hand, \( \mathrm{random}() \) is not pure: by its nature it
returns a different result on every call.</p>
<p>Numbers, symbols and strings are pure. A function expression is pure if the
function itself is pure, and all its arguments are pure as well.</p>
<p><strong>To check if an expression is pure</strong>, use <code>expr.isPure</code>.</p>
</section>
<section id='literal'>
<h2>Literal Expressions</h2>
<p>A literal expression is one that has a fixed value that was provided directly
when the expression was defined. Numbers and strings are literal. Symbols and
functions are not. They may have a value, but their value is calculated
indirectly.</p>
<p><strong>To check if an expression is a literal</strong>, use <code>expr.isLiteral</code>.</p>
</section>
<section id='canonical'>
<h2>Canonical Expressions</h2>
<p>The canonical form of an expression is a “standard” way of writing an
expression.</p>
<p><strong>To check if an expression is in canonical form</strong>, use <code>expr.isCanonical</code>.</p>
<p><strong>To obtain the canonical representation of an expression</strong>, use
<code>expr.canonical</code>.</p>
<div class='read-more'><a href="/compute-engine/guides/canonical-form/"> Read more about the
<strong>Canonical Form</strong> <svg class="svg-chevron"><use xlink:href="#svg-chevron"></use></svg></a></div>
</section>
<h2>Checking the Kind of Expression</h2>
<p>To identify if an expression is a number, symbol, function, string or
dictionary, use the following boolean expressions:</p>
<div class=symbols-table>
<table>
<thead>
<tr>
<th style="text-align:left">Kind</th>
<th style="text-align:left">Boolean Expression</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Number</td>
<td style="text-align:left"><code>expr.isLiteral &amp;&amp; expr.isNumber</code></td>
</tr>
<tr>
<td style="text-align:left">Symbol</td>
<td style="text-align:left"><code>expr.symbol !== null</code> <br> <code>expr.head === 'Symbol'</code></td>
</tr>
<tr>
<td style="text-align:left">Function</td>
<td style="text-align:left"><code>expr.tail !== null</code></td>
</tr>
<tr>
<td style="text-align:left">String</td>
<td style="text-align:left"><code>expr.string !== null</code> <br> <code>expr.head === 'String'</code></td>
</tr>
<tr>
<td style="text-align:left">Dictionary</td>
<td style="text-align:left"><code>expr.keys !== null</code> <br> <code>expr.head === 'Dictionary'</code></td>
</tr>
</tbody>
</table>
</div>
<p>Note that symbols or functions can return <code>true</code> for <code>isNumber</code>, if their value
is a number. Use <code>isLiteral</code> to distinguish literal numbers from other
expressions that may have a numeric value.</p>
<section id='incomplete-expressions'>
<h2>Incomplete Expressions</h2>
<p>When parsing a LaTeX expression, the Compute Engine uses the <strong>maximum effort</strong>
doctrine. That is, even partially complete expressions are parsed, and as much
of the input as possible is reflected in the MathJSON result.</p>
<p>If required operands are missing (the denominator of a fraction, for example), a
<code>Missing</code> symbol is inserted where the missing operand should have been.</p>
<pre><code class="language-ts"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(ce.<span class="hljs-title function_">parse</span>(<span class="hljs-string">&#x27;\\frac{1}&#x27;</span>).<span class="hljs-property">json</span>);
<span class="hljs-comment">// ➔ [&quot;Divide&quot;, 1, &quot;Missing&quot;]</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(ce.<span class="hljs-title function_">parse</span>(<span class="hljs-string">&#x27;\\sqrt{}&#x27;</span>).<span class="hljs-property">json</span>);
<span class="hljs-comment">// ➔  [&quot;Sqrt&quot;, &quot;Missing&quot;]</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(ce.<span class="hljs-title function_">parse</span>(<span class="hljs-string">&#x27;\\sqrt&#x27;</span>).<span class="hljs-property">json</span>);
<span class="hljs-comment">// ➔ [&quot;Sqrt&quot;, &quot;Missing&quot;]</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(ce.<span class="hljs-title function_">parse</span>(<span class="hljs-string">&#x27;\\sqrt{&#x27;</span>).<span class="hljs-property">json</span>);
<span class="hljs-comment">// ➔  [&quot;Error&quot;, [&quot;Sqrt&quot;, &quot;Missing&quot;], &quot;&#x27;syntax-error&#x27;&quot;, [&quot;LatexForm&quot;, &quot;&#x27;{&#x27;&quot;]]</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(ce.<span class="hljs-title function_">parse</span>(<span class="hljs-string">&#x27;2 \\times&#x27;</span>).<span class="hljs-property">json</span>);
<span class="hljs-comment">// ➔ [&quot;Multiply&quot;, 2, &quot;Missing&quot;]</span>
</code></pre>
<p>The <code>Missing</code> symbol can then be replaced with another expression. To remove it
altogether, repace it with the <code>Nothing</code> symbol, then get the canonical form of
the resulting expression.</p>
</section>
<h2>Errors</h2>
<p>If an expression can only be partially parsed, a function with a <code>Error</code> head is
returned.</p>
<p>The <code>Error</code> function has the following arguments:</p>
<ul>
<li>A partial result, i.e. the part that was successfully parsed. When an error
expression is evaluated, its value is its first argument</li>
<li>A error code, as a string</li>
<li>An expression representing where the error occured, for example a LaTeX string
representing where the LaTeX parsing failed.</li>
</ul>
<h2>Return Value Conventions</h2>
<p>The Compute Engine API uses the following conventions for the return values of a
function and the values of an object property:</p>
<ul>
<li><strong><code>null</code></strong>: this property/function does not apply, and will never apply. You
can think of this as an answer of “never”. Example: <code>expr.isPositive</code> on a
Boxed String.</li>
<li><strong><code>undefined</code></strong>: at the moment, the result is not available, but it may be
available later. You can think of this as an answer of “maybe”. For example,
<code>expr.sgn</code> for a symbol with no assigned value and no assumptions.</li>
<li><strong><code>this</code></strong>: this function was not applicable, or there was nothing to do. For
example, invoking <code>expr.simplify()</code> on a boxed string.</li>
</ul>
<div class='read-more'><a href="/compute-engine/guides/symbols/"> See also
<strong>symbols</strong> to read about defining and changing the value of
symbols<svg class="svg-chevron"><use xlink:href="#svg-chevron"></use></svg></a></div>

        
      </section>

      <footer class="page__meta">
        
        


        <meta itemprop="datePublished" content="June 25, 2022">
                

        


        
          <p class="page__date"><svg class="icon1quarterem"><use role="none" xlink:href="/assets/icons.svg#calendar-days"/></svg><strong> Updated</strong> <time datetime="2022-06-25">June 25, 2022</time></p>
        

          <p class="page__meta-link"><svg class="icon1quarterem"><use role="none" xlink:href="/assets/icons.svg#bug"/></svg> <strong>See a typo? Question? Feedback?</strong> File an issue at <a href="https://github.com/cortex-js/cortexjs.io">github.com/cortex-js/cortexjs.io</a></p>
      </footer>


      
    </div>

  </article>
</div>

<script type="module">
  import { renderMathInDocument } from '//unpkg.com/mathlive?module';
  window.addEventListener('DOMContentLoaded', (event) => {
    renderMathInDocument({ 
      renderAccessibleContent: false,
      TeX: { 
        delimiters: {
          inline: [['\\(', '\\)']],
          display: [ ['$$', '$$'], ['\\[', '\\]']],
        },
        processEnvironments : false 
      },
      asciiMath: null,
    });
  });
</script>

    </div>

    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
     
     
     
    
    <li>
      <a href="https://github.com/cortex-js" rel="nofollow noopener noreferrer"
          ><svg class='icon1quarterem'><use role='none' xlink:href='/assets/icons.svg#github'></use></svg>GitHub</a
      >
    </li>
     
     
    
    <li>
      <a href="https://gitter.im/cortex-js" rel="nofollow noopener noreferrer"
          ><svg class='icon1quarterem'><use role='none' xlink:href='/assets/icons.svg#gitter'></use></svg>Gitter</a
      >
    </li>
     
     
    

  </ul>
</div>
<div class="page__footer-pages">
   
    <ul>
       
      
      <li>
        <a href="/about/" rel="nofollow noopener noreferrer">About Us</a>
      </li>
       
       
    </ul>
  

</div>
      </footer>
    </div>

    
  <!-- <script defer src="/assets/js/main.min.js"></script> -->









  </body>
</html>