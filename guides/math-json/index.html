<!doctype html><html class=no-js lang=en><meta charset=utf-8><title>CortexJS</title><meta content=""name=description><link href=/feed.xml rel=alternate title="CortexJS Feed"type=application/atom+xml><meta content="width=device-width,initial-scale=1"name=viewport><meta content=strict-origin name=referrer><script>document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';</script><link href=/assets/css/main.css rel=stylesheet><link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:100,100i,400,400i,700,700i,900,900i&display=swap"rel=stylesheet crossorigin><link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@0,400;0,700;1,400;1,700&family=IBM+Plex+Sans:ital,wght@0,400;0,700;1,400;1,700&display=swap"rel=stylesheet crossorigin><script src=https://kit.fontawesome.com/523e3eb8bb.js crossorigin=anonymous></script><script>((window.gitter = {}).chat = {}).options = {
    room: 'cortex-js/community',
    activationElement: '.my-special-button',
    targetElement: '.my-special-target-element'
  };</script><script src=https://sidecar.gitter.im/dist/sidecar.v1.js async defer></script><body class=layout--single><nav class=skip-links><h2 class=screen-reader-text>Skip links</h2><ul><li><a href=#site-nav class=screen-reader-shortcut>Skip to primary navigation</a><li><a href=#main class=screen-reader-shortcut>Skip to content</a><li><a href=#footer class=screen-reader-shortcut>Skip to footer</a></ul></nav><!--[if lt IE 9]><div class="notice--danger align-center"style=margin:0>You are using an <strong>outdated</strong> browser. Please <a href=https://browsehappy.com/ >upgrade your browser</a> to improve your experience.</div><![endif]--><div class=masthead><div class=masthead__inner-wrap><div class=masthead__menu><nav class=greedy-nav id=site-nav><a href=/ class=site-logo><img alt=""src=""></a><a href=/ class=site-title>Cortex<em>JS</em></a><ul class=visible-links><li class=masthead__menu-item><a href=/mathlive/ >MathLive</a><li class=masthead__menu-item><a href=/docs/ >Docs</a><li class=masthead__menu-item><a href=/funding/ >Funding</a><li class=masthead__menu-item><a href=https://gitter.im/cortex-js title="Chat on Gitter"><svg class=icon1em><use role=none xlink:href=/assets/icons.svg#gitter></use></svg></a><li class=masthead__menu-item><a href=https://github.com/cortex-js title="Get source code on GitHub"><svg class=icon1em><use role=none xlink:href=/assets/icons.svg#github></use></svg></a></ul><button class="hidden greedy-nav__toggle"type=button><span class=visually-hidden>Toggle menu</span><div class=navicon></div></button><ul class="hidden hidden-links"></ul></nav></div></div></div><div class=initial-content><div id=main role=main><div class="sidebar sticky"><nav class=nav__list><input id=ac-toc name=accordion-toc type=checkbox> <label for=ac-toc>Toggle Menu</label><ul class=nav__items><li><span class=nav__sub-title>Mathlive</span><ul><li><a href=/guides/mathfield-getting-started/ >Getting Started</a><li><a href=/docs/mathlive/ >SDK Reference</a><li><a href=/guides/math-json/ class=active>Math JSON</a></ul><li><span class=nav__sub-title>Contributing</span><ul><li><a href=/docs/reporting-issues/ >Reporting Issues</a><li><a href=/funding/ >Funding</a><li><a href=/docs/code-of-conduct/ >Code of Conduct</a><li><a href=/docs/license/ >License</a></ul></ul></nav></div><article class=page itemscope itemtype=https://schema.org/CreativeWork><div class=page__inner-wrap><header></header><section class=page__content itemprop=text><h1>The MathJSON Format</h1><p>The MathJSON format is a lightweight data interchange format for mathematical notation.<p>It is human-readable, while being easy for machines to generate and parse.<p>It is built on the JSON [1] format. Its focus is on interoperability between software programs to facilitate the exchange of mathematical data, as well as the building of complex software through the integration of software components communicating with a common format.<p>It is not suitable as a visual representation of arbitrary mathematical notations, and as such is not a replacement for LaTeX or MathML.<h2>Examples</h2><h3>Euler’s Identity</h3><p>In TeX<pre><code class=language-tex>e^{<span class=hljs-tag>\<span class=hljs-name>imaginaryI</span></span> <span class=hljs-tag>\<span class=hljs-name>pi</span></span> }+1=0
</code></pre><p>In MathJSON:<pre><code class=language-json>{
    "fn":"equal",
    "arg":[{
        "fn":"add",
            "arg":[{
                "sym":"e",
                    "sup":{
                        "fn":"multiply",
                        "arg":[{"sym": "ⅈ"},{sym:"π"}]
                    }
                },
                {"num": "1"}
            ]
        },
        "num": "0"
    ]
}
</code></pre><h3>An approximation of Pi</h3><pre><code class=language-tex><span class=hljs-tag>\<span class=hljs-name>frac</span></span> {63}{25}<span class=hljs-tag>\<span class=hljs-name>times</span></span> <span class=hljs-tag>\<span class=hljs-name>frac</span></span> {17+15<span class=hljs-tag>\<span class=hljs-name>sqrt</span><span class=hljs-string>{5}</span></span>}{7+15<span class=hljs-tag>\<span class=hljs-name>sqrt</span><span class=hljs-string>{5}</span></span>}
</code></pre><pre><code class=language-JSON>{<span class=hljs-attr>"fn"</span>:<span class=hljs-string>"multiply"</span>,
    <span class=hljs-attr>"arg"</span>:[
        {<span class=hljs-attr>"fn"</span>:<span class=hljs-string>"divide"</span>,<span class=hljs-attr>"arg"</span>:[{<span class=hljs-attr>"num"</span>:<span class=hljs-string>"63"</span>},{<span class=hljs-attr>"num"</span>:<span class=hljs-string>"25"</span>}]},
        {<span class=hljs-attr>"fn"</span>:<span class=hljs-string>"divide"</span>,<span class=hljs-attr>"arg"</span>:[
            {<span class=hljs-attr>"fn"</span>:<span class=hljs-string>"add"</span>,<span class=hljs-attr>"arg"</span>:[
                {<span class=hljs-attr>"num"</span>:<span class=hljs-string>"17"</span>},
                {<span class=hljs-attr>"fn"</span>:<span class=hljs-string>"multiply"</span>,<span class=hljs-attr>"arg"</span>:[{<span class=hljs-attr>"num"</span>:<span class=hljs-string>"15"</span>},{<span class=hljs-attr>"fn"</span>:<span class=hljs-string>"sqrt"</span>,<span class=hljs-attr>"arg"</span>:[{<span class=hljs-attr>"num"</span>:<span class=hljs-string>"5"</span>}]}]}
            ]},
            {<span class=hljs-attr>"fn"</span>:<span class=hljs-string>"add"</span>,<span class=hljs-attr>"arg"</span>:[
                {<span class=hljs-attr>"num"</span>:<span class=hljs-string>"7"</span>},
                {<span class=hljs-attr>"fn"</span>:<span class=hljs-string>"multiply"</span>,<span class=hljs-attr>"arg"</span>:[
                    {<span class=hljs-attr>"num"</span>:<span class=hljs-string>"15"</span>},
                    {<span class=hljs-attr>"fn"</span>:<span class=hljs-string>"sqrt"</span>,<span class=hljs-attr>"arg"</span>:[
                        {<span class=hljs-attr>"num"</span>:<span class=hljs-string>"5"</span>}
                    ]}
                ]}
            ]}
        ]}
    ]
}
</code></pre><h2>Design Goals</h2><h3>Goals</h3><ul><li>Easy to consume, even if that’s at the expense of complexity to generate.<li>Extensibility. It should be possible to add information to the data structure that can help its interpretation or its rendition. This information should be optional and can be ignored by any consumer.</ul><h3>Non-goals</h3><ul><li>Be suitable as an internal data structure<li>Be suitable as a display format<li>Capture complete semantic information with no ambiguity and in a self-sufficient manner.</ul><h2>Encoding</h2><p>A MathJSON expression is an <a href=https://en.wikipedia.org/wiki/Abstract_syntax_tree>abstract syntax tree</a> encoded as a JSON object.<p>The root element is an <code>expression</code>, with child nodes according to the grammar below.<h2>Grammar</h2><p>A MathJSON expression is an Abstract Syntax Tree. As such, there is no need to introduce parentheses or to resort to operator precedence in order to parse the expression correctly.<p>The type of each node is indicated by the presence of a specific key, for example <code>sym</code> for the “symbol” node or <code>fn</code> for the “function” node.<p>There are five types of nodes:<pre><code>`expression` :=
    `number`
    `symbol`
    `function`
    `group`
    `text`
</code></pre><h3><code>number</code></h3><p>A node with a “num” key:<pre><code>`number` :=
    { "num" : `basic-number` | `complex-number` }
</code></pre><p>A basic number is encoded following the JSON grammar, with the following extensions:<ul><li>support for arbitrary precision numbers. JavaScript and many other languages only support limited precision numbers, generally 52-bit integers (about 15 digits). Therefore to support arbitrary precision, numbers should always be represented as a quoted string.<li>support for <code>NaN</code> and <code>infinity</code></ul><pre><code>`basic-number` :=
    "NaN"
    `infinity`
    `'"'` [`'-'`] `int` [ `frac`][ `exp` ]`'"'`

`infinity` :=
    `'"'` [`'+'` | `'-'`] `'Infinity'` `'"'`

`int` :=
    `'0'` | [ `'0'` - `'9'` ]\*

`frac` :=
    `'.'` (`'0'` - `'9'`)\*

`exp` :=
    [`'e'` | `'E'`][`'+'` | `'-'`] (`'0'` - `'9'` )\*

`complex-number` :=
    {
        "re": `basic-number`,
        "im": `basic-number`
    }
</code></pre><h3><code>symbol</code></h3><p>A node with the following keys<ul><li><code>"sym"</code>: <code>native-string</code><li><code>"type"</code>: native-string`, the data type of the symbol. See table below.<li><code>"index"</code>: A 0-based index into a vector or array. An index can be a number or an array of numbers.<li><code>"accent"</code>: <code>string</code>, a modifier applied to a symbol, such as “hat” or “bar”.</ul><p>The <code>"sym"</code> key is the only required key.<h3>Native Strings</h3><p>Native strings are a sequence of Unicode characters.<p>MathJSON producing software should not generate character entities in strings.<p>As per JSON, any Unicode character may be escaped using a <code>\u</code> escape sequence.<p>Whenever applicable, a specific Unicode symbol should be used.<p>For example, the set of complex numbers should be represented with U+2102 ℂ, not with U+0043 C and a math variant styling attribute.<p>See <a href=http://www.unicode.org/versions/Unicode10.0.0/ch22.pdf>Unicode Chapter 22 - Symbols</a><blockquote><p>When used with markup languages—for example, with Mathematical Markup Language (MathML)—the characters are expected to be used directly, instead of indirectly via entity references or by composing them from base letters and style markup.</blockquote><h3>Optional keys</h3><p>All nodes in a MathJSON expression may have the following keys:<ul><li><code>sub</code>: <code>expression</code>, a subscript<li><code>sup</code>: <code>expression</code>, a superscript<li><code>comment</code>: A human readable string to annotate an expression, since JSON does not allow comments in its encoding<li><code>error</code>: A human readable string that can be used to indicate a syntax error or other problem when parsing or evaluating an expression.<li><code>latex</code>: A visual representation in LaTeX of the expression. This can be useful to preserve non-semantic details, for example parentheses in an expression or styling attributes.<li><code>mathml</code>: A visual representation in MathML of the expression.<li><code>class</code>: A CSS class to be associated with a representation of this node<li><code>id</code>: A CSS id to be associated with a representation of this node<li><code>css</code>: A CSS style string<li><code>wikidata</code>: A short string indicating an entry in a wikibase. For example, <code>"Q2111"</code><li><code>wikibase</code>: A base URL for the <code>wikidata</code> key. A full URL can be produced by concatenating this key with the wikidata key. This key applies to this node and all its children. The default value is “https://www.wikidata.org/wiki/”<li><code>openmathsymbol</code>: A short string indicating an entry in an OpenMath Content Dictionary. For example: <code>arith1/#abs</code>.<li><code>openmathcd</code>: A base URL for an OpenMath content dictionary. This key applies to this node and all its children. The default value is “http://www.openmath.org/cd”.</ul><h3>Key order</h3><p>The order of the keys in a node is not significant.<p>All these expressions are equivalent:<pre><code class=language-JSON>   {"fn":"add", "arg":[{num:"1"}, {num:"2"}]}
   {"arg":[{num:"1"}, {num:"2"}], "fn":"add"}
</code></pre><p>However, the order of the elements in an array <em>is</em> significant.<p>These two expressions are <em>not</em> equivalent:<pre><code class=language-JSON>   {"fn":"divide", "arg":[{num:"3"}, {num:"1"}]}
   {"fn":"divide", "arg":[{num:"3"}, {num:"1"}]}
</code></pre><h4>Symbol Type</h4><p>The data type of a symbol can be used to refine the interpretation of operations performed upon it.<table><thead><tr><th>Data Type<th style=text-align:left>Value<th style=text-align:left>Meanings<tbody><tr><td>Scalar<td style=text-align:left><code>scalar</code><td style=text-align:left>scalar number<tr><td>Complex<td style=text-align:left><code>complex</code><td style=text-align:left>complex number<tr><td>Vector<td style=text-align:left><code>vector</code><td style=text-align:left>an element composed of n scalars or complex numbers<tr><td>Matrix<td style=text-align:left><code>matrix</code><td style=text-align:left>an element composed of n vectors<tr><td>Function<td style=text-align:left><code>function</code><td style=text-align:left><tr><td>String<td style=text-align:left><code>string</code><td style=text-align:left>an array of characters<tr><td>Dictionary<td style=text-align:left><code>dictionary</code><td style=text-align:left>a collection of key/value pairs<tr><td>Boolean<td style=text-align:left><code>boolean</code><td style=text-align:left>true or false<tr><td>Table<td style=text-align:left><code>table</code><td style=text-align:left>a two-dimensional array of cells. Each cell can be of a different type.<tr><td>Date<td style=text-align:left><code>date</code><td style=text-align:left><tr><td>Duration<td style=text-align:left><code>duration</code><td style=text-align:left></table><h4>Accent</h4><p>An accent is a decoration over a symbol that provides the proper context to interpret the symbol or modifies it in some way. For example, an accent can indicate that a symbol is a vector, or to represent the mean, complex conjugate or complement of the symbol.<p>The following values are recommended:<table><thead><tr><th>Accent<th style=text-align:center>Value<th style=text-align:right>Unicode<th>Possible Meanings<tbody><tr><td>Vector<td style=text-align:center>◌⃗<td style=text-align:right>U+20d7<td><tr><td>Bar<td style=text-align:center>◌¯<td style=text-align:right>U+00af<td>Mean, complex conjugate, set complement.<tr><td>Hat<td style=text-align:center>◌^<td style=text-align:right>U+005e<td>Unit vector, estimator<tr><td>Dot<td style=text-align:center>◌˙<td style=text-align:right>U+02d9<td>Derivative with respect to time<tr><td>Double dot<td style=text-align:center>◌¨<td style=text-align:right>U+00a8<td>Second derivative with respect to time.<tr><td>Acute<td style=text-align:center>◌´<td style=text-align:right>U+00b4<td><tr><td>Grave<td style=text-align:center>◌`<td style=text-align:right>U+0060<td><tr><td>Tilde<td style=text-align:center>◌~<td style=text-align:right>U+007e<td><tr><td>Breve<td style=text-align:center>◌˘<td style=text-align:right>U+02d8<td><tr><td>Check<td style=text-align:center>◌ˇ<td style=text-align:right>U+02c7<td></table><h3><code>function</code></h3><ul><li><code>fn</code>: <code>native-string</code>, the name of the function or <code>expression</code><li><code>arg</code>: array of <code>expression</code>, the arguments to the function.<li><code>fence</code>: <code>string</code>, one to three characters indicating the delimiters used for the expression. The first character is the opening delimiter, the second character, if present, is the closing delimiter. The third character, if present, is the delimiters separating the arguments. If no value is provided for this key, the default value <code>(),</code> is used. The character <code>.</code> can be used to indicate the absence of a delimiter, for example <code>..;</code>.<li><code>sub</code>: <code>expression</code><li><code>sup</code>: <code>expression</code><li><code>accent</code>: <code>native-string</code>, a single unicode character representing the accent to display over the function. See the SYMBOL section for more details.</ul><p>The <code>fn</code> key is the only required key.<p>When using common functions, the following values are recommended:<table><thead><tr><th>Name (and common synonyms)<th style=text-align:left>Arity<th style=text-align:left>Comment<tbody><tr><td><code>add</code><td style=text-align:left>2+<td style=text-align:left><tr><td><code>multiply</code><td style=text-align:left>2+<td style=text-align:left><tr><td><code>subtract</code><td style=text-align:left>2<td style=text-align:left>Subtract the second from the first.<tr><td><code>divide</code><td style=text-align:left>2<td style=text-align:left>The first argument divided by the second argument<tr><td><code>negate</code><td style=text-align:left>1<td style=text-align:left>Negate the argument<tr><td><code>sequence</code><td style=text-align:left>1+<td style=text-align:left>concatenated elements<tr><td><code>list</code><td style=text-align:left>1+<td style=text-align:left>comma separated list<tr><td><code>list2</code><td style=text-align:left>1+<td style=text-align:left>semi-colon separated list</table><table><thead><tr><th>Name (and common synonyms)<th style=text-align:left>Arity<th style=text-align:left>Comment<tbody><tr><td>Signum<td style=text-align:left>1<td style=text-align:left>-1 if the argument is negative, 0 if it is zero, 1 if it is positive; more generally, the intersection of the unit circle with the line from the origin through the argument in the complex plane<tr><td>Exponential<td style=text-align:left>1<td style=text-align:left>e to the power of the argument.<tr><td>Power<td style=text-align:left>2<td style=text-align:left>The first argument to the power of the second argument<tr><td>Square Root<td style=text-align:left>1<td style=text-align:left><tr><td>Root<td style=text-align:left>2<td style=text-align:left>The second argument is the degree of the root<tr><td>Natural log<td style=text-align:left>1<td style=text-align:left><tr><td>Logarithm<td style=text-align:left>2<td style=text-align:left>The second argument is the base.<tr><td><code>abs</code><td style=text-align:left>1<td style=text-align:left>Absolute value<tr><td><code>min</code><td style=text-align:left>2, n<td style=text-align:left>The smallest of the arguments<tr><td><code>max</code><td style=text-align:left>2, n<td style=text-align:left>The largest of the arguments<tr><td><code>floor</code><td style=text-align:left>1<td style=text-align:left>The largest integer less than or equal to the argument<tr><td><code>ceiling</code><td style=text-align:left>1<td style=text-align:left>The smallest integer greater than or equal to the argument<tr><td><code>gcd</code><td style=text-align:left>2<td style=text-align:left>Greatest Common Divisor<tr><td><code>lcm</code><td style=text-align:left>2<td style=text-align:left>Least Common Multiple<tr><td><code>compose</code><td style=text-align:left>2, n<td style=text-align:left></table><h4>Complex Arithmetic</h4><table><thead><tr><th>Name<th style=text-align:left>Value<th style=text-align:left>Arity<th style=text-align:left>Comment<tbody><tr><td>Conjugate<td style=text-align:left><code>+</code><td style=text-align:left>1<td style=text-align:left>Conjugate of the argument<tr><td>Real<td style=text-align:left><code>real</code><td style=text-align:left>1<td style=text-align:left><tr><td>Imaginary<td style=text-align:left><code>imaginary</code><td style=text-align:left>1<td style=text-align:left><tr><td>Argument<td style=text-align:left><code>arg</code><td style=text-align:left>1<td style=text-align:left></table><h4>Logic</h4><table><thead><tr><th>Name<th style=text-align:left>Value<th style=text-align:left>Arity<th style=text-align:left>Comment<tbody><tr><td>Implies<td style=text-align:left><td style=text-align:left><td style=text-align:left><tr><td>Logical equivalence<td style=text-align:left><td style=text-align:left><td style=text-align:left><tr><td>For All (universal quantifier)<td style=text-align:left><code>forall</code><td style=text-align:left><td style=text-align:left><tr><td>There Exists (existential quantifier)<td style=text-align:left><code>exists</code><td style=text-align:left><td style=text-align:left></table><p>There Does Not Exists<h4>Trigonometry</h4><p>Note that for inverse functions, no assumptions is made about the branch cuts of those functions. The interpretation is left up to the consuming software.<table><thead><tr><th>Name (and common synonyms)<th style=text-align:left>Value<th style=text-align:left>Arity<th style=text-align:left>Comment<tbody><tr><td>Cosine<td style=text-align:left><code>cos</code><td style=text-align:left>1<td style=text-align:left>angle in radians<tr><td>Sin<td style=text-align:left><code>sin</code><td style=text-align:left>1<td style=text-align:left>angle in radians<tr><td>Tangent (tan, tg)<td style=text-align:left><code>tan</code><td style=text-align:left>1<td style=text-align:left>angle in radians<tr><td>Co-tangent (cot, ctg, cotg, ctn)<td style=text-align:left><code>cotangent</code><td style=text-align:left>1<td style=text-align:left><tr><td>Secant<td style=text-align:left><code>sec</code><td style=text-align:left>1<td style=text-align:left><tr><td>Cosecant<td style=text-align:left><code>csc</code><td style=text-align:left>1<td style=text-align:left><tr><td>Arc cosine<td style=text-align:left><code>acos</code><td style=text-align:left>1<td style=text-align:left>angle in radians<tr><td>Arc sine<td style=text-align:left><code>asin</code><td style=text-align:left>1<td style=text-align:left>angle in radians<tr><td>Arctangent (arctan, arctg)<td style=text-align:left><code>atan</code><td style=text-align:left>1<td style=text-align:left>angle in radians<tr><td>Arctangent (arctan, arctg)<td style=text-align:left><code>atan</code><td style=text-align:left>2<td style=text-align:left>See https://en.wikipedia.org/wiki/Atan2<tr><td>Arc-cotangent<td style=text-align:left><code>arccot</code><td style=text-align:left>1<td style=text-align:left><tr><td>Arc-secant<td style=text-align:left><code>arcsec</code><td style=text-align:left>1<td style=text-align:left><tr><td>Arc-cosecant<td style=text-align:left><code>arccsc</code><td style=text-align:left>1<td style=text-align:left><tr><td>Hyperbolic tangent (th, tan)<td style=text-align:left><code>tanh</code><td style=text-align:left>1<td style=text-align:left></table><h4>Relational operators</h4><table><thead><tr><th>Operation<th style=text-align:left>Value<th>Comment<tbody><tr><td>Equal to<td style=text-align:left><code>equal</code><td>General purpose equality<tr><td>Less than<td style=text-align:left><code>lt</code><td><tr><td>Less than or equal to<td style=text-align:left><code>le</code><td><tr><td>Greater than<td style=text-align:left><code>gt</code><td><tr><td>Greater than or equal to<td style=text-align:left><code>ge</code><td><tr><td>Much less than<td style=text-align:left><code>ll</code><td><code>x ≪ y</code><tr><td>Much greater than<td style=text-align:left><code>gg</code><td><code>y ≫ x</code><tr><td>Definition/assignment<td style=text-align:left><code>assign</code><td>Used with <code>a := 5</code> or <code>f(x) := sin(x)</code><tr><td>Identity<td style=text-align:left><code>:=:</code><td>Used with <code>1 + 1 :=: 2</code><tr><td>Approximately equal to<td style=text-align:left><code>approx</code><td>Used with <code>π ≈ 3.14</code><tr><td>Not equal to<td style=text-align:left><code>ne</code><td><tr><td>Similar to<td style=text-align:left><code>sim</code><td><code>2 ~ 5</code><tr><td>Congruent to<td style=text-align:left><code>cong</code><td><code>A ≅ B</code></table><p>There are three semantically distinct use for “equal to” which are often all represented with <code>=</code> in mathematical notation:<ul><li><strong>conditional equality</strong>: the expression is true when the left hand side and the right hand side are equal, for example when defining a curve representing the unit circle: <code>x^2 + y^2 = 1</code><li><strong>definition</strong> or assignment: the symbol (or expression) on the left hand side is defined by the expression on the right hand side. For example <code>f(x) := sin x</code>, <code>a := 5</code><li><strong>identity</strong>: the right hand side expression is a syntactic derivation from the left hand size expression. For example, <code>1 + 1 :=: 2</code></ul><p>When a more specific version cannot be determined from the context, the general purpose <code>equal</code> function should be used.<h4>Big operators</h4><p>Big operators, such as ∑, “sum”, and ∏, “product”, are represented as a function with the following arguments:<ul><li>first argument: body of the operation<li>second argument (optional): inferior argument of the operation<li>third argument (optional): superior argument of the operation</ul><p>For example:<pre><code class=language-tex><span class=hljs-tag>\<span class=hljs-name>sum</span></span> ^n_{i=0}i
</code></pre><pre><code class=language-json>{
    <span class=hljs-attr>"fn"</span>: <span class=hljs-string>"sum"</span>,
    <span class=hljs-attr>"arg"</span>: [{ <span class=hljs-attr>"sym"</span>: <span class=hljs-string>"i"</span> }, { <span class=hljs-attr>"fn"</span>: <span class=hljs-string>"="</span>, <span class=hljs-attr>"arg"</span>: [<span class=hljs-string>"i"</span>, <span class=hljs-number>0</span>] }, { <span class=hljs-attr>"sym"</span>: <span class=hljs-string>"n"</span> }]
}
</code></pre><p>If necessary, an empty argument can be represented by an empty structure.<p>The following values should be used to represent these common big operators:<table><thead><tr><th>Operation<th style=text-align:left>Value<th style=text-align:left>Unicode Character<tbody><tr><td>Sum<td style=text-align:left><code>sum</code><td style=text-align:left>∑ U+2211<tr><td>Product<td style=text-align:left><code>product</code><td style=text-align:left>∏ U+220f<tr><td>Intersection<td style=text-align:left><code>intersection</code><td style=text-align:left>⋂ U+22c2<tr><td>Union<td style=text-align:left><code>union</code><td style=text-align:left>⋃ U+22c3<tr><td>Integral<td style=text-align:left><code>integral</code><td style=text-align:left>∫ U+222b<tr><td>Double integral<td style=text-align:left><code>integral2</code><td style=text-align:left>∬ U+222c<tr><td>Triple integral<td style=text-align:left><code>integral3</code><td style=text-align:left>∭ U+222d<tr><td>Contour integral<td style=text-align:left><code>contour_integral</code><td style=text-align:left>∮ U+222e<tr><td>Circle Plus<td style=text-align:left><code>circle_plus</code><td style=text-align:left>U+2a01<tr><td>Circle Times<td style=text-align:left><code>circle_times</code><td style=text-align:left>U+2a02<tr><td>And<td style=text-align:left><code>n_and</code><td style=text-align:left>U+22c1<tr><td>Or<td style=text-align:left><code>n_or</code><td style=text-align:left>U+22c0<tr><td>Coproduct<td style=text-align:left><code>coproduct</code><td style=text-align:left>∐ U+2210<tr><td>Square cup<td style=text-align:left><code>square_cup</code><td style=text-align:left>U+2a06<tr><td>U plus<td style=text-align:left><code>union_plus</code><td style=text-align:left>U+2a04<tr><td>O dot<td style=text-align:left><code>odot</code><td style=text-align:left>U+2a00</table><h4>Special Functions</h4><p>These functions represent higher order data structures and operations common in algebraic manipulation systems.<ul><li><strong>bind</strong> first argument is an expression, argument 2n is an identifier, argument 2n+1 is the value the identifier should be replaced with.</ul><p>Argument 2n+1 can be a number, an expression, an array representing a list of values, or a range. If an array or a range, the result is an array of expression.<p>For example:<pre><code class=language-json>{
    <span class=hljs-attr>"fn"</span>: <span class=hljs-string>"bind"</span>,
    <span class=hljs-attr>"arg"</span>: [
        {
            <span class=hljs-attr>"fn"</span>: <span class=hljs-string>"+"</span>,
            <span class=hljs-attr>"arg"</span>: [
                { <span class=hljs-attr>"sym"</span>: <span class=hljs-string>"x"</span>, <span class=hljs-attr>"sup"</span>: <span class=hljs-number>2</span> },
                { <span class=hljs-attr>"fn"</span>: <span class=hljs-string>"*"</span>, <span class=hljs-attr>"arg"</span>: [<span class=hljs-number>2</span>, <span class=hljs-string>"x"</span>] }
            ]
        },
        <span class=hljs-string>"x"</span>,
        <span class=hljs-string>"1"</span>
    ]
}
</code></pre><p>would replace the <code>x</code>in the expression with <code>1</code>.<ul><li><strong>solve</strong> first argument is an expression. Return an array of identifier and their value. The first argument can be an array representing a system of equations.</ul><ul><li><p><strong>range</strong> first argument is the start of the range, second argument is the end of the third. The third argument is optional and represent the step between elements of the range. If none is provided, the step is 1.<li><p><strong><code>block</code></strong> the arguments are a list of expressions, such as in a system of equations.<li><p><strong><code>case</code></strong> the arguments are a list of conditional expressions, such as in a piecewise definition of a function. Arguments 2n-1 are the expression, and 2n are the condition. The last condition is optional and the last value is applied if no other condition match.</ul><h4>Other functions</h4><table><thead><tr><th>Operation<th style=text-align:left>Value<th style=text-align:left>Comment<tbody><tr><td>Factorial<td style=text-align:left><code>factorial</code><td style=text-align:left><code>!</code><tr><td>Double factorial<td style=text-align:left><code>factorial2</code><td style=text-align:left><code>!!</code></table><p>Additional functions can be specified using an OpenMath content dictionary. For example, Euler’s gamma function:<pre><code class=language-json>{
    <span class=hljs-attr>"fn"</span>: <span class=hljs-string>"gamma"</span>,
    <span class=hljs-attr>"openmathsymbol"</span>: <span class=hljs-string>"hypergeo0#gamma"</span>,
    <span class=hljs-attr>"arg"</span>: <span class=hljs-number>1</span>
}
</code></pre><p>If an <code>openmathsymbol</code> key is present it overrides the value of the <code>fn</code> key as far as the semantic of the operation is concerned. However, the <code>fn</code> key can still be used to display information about this expression to a user. For example:<pre><code class=language-json>{
    <span class=hljs-attr>"fn"</span>: <span class=hljs-string>"\u0393"</span>,
    <span class=hljs-attr>"openmathsymbol"</span>: <span class=hljs-string>"hypergeo0#gamma"</span>,
    <span class=hljs-attr>"arg"</span>: <span class=hljs-number>1</span>
}
</code></pre><p>where <code>\u0393</code> is the Unicode character <code>GREEK CAPITAL LETTER GAMMA</code> Γ.<h3><code>group</code></h3><ul><li><code>group</code>: <code>expression</code><li><code>sup</code>: <code>expression</code><li><code>sub</code>: <code>expression</code><li><code>accent</code>: <code>string</code></ul><p>The <code>group</code> key is the only one required.<p>This element is used when a <code>sup</code>, <code>sub</code> or <code>accent</code> needs to be applied to an expression, as in <code>(x+1)^2</code>.<h3><code>text</code></h3><ul><li><code>text</code>: <code>native-string</code><li><code>format</code>: “plain” | “markdown” | “html”. This key is optional and its default value is <code>plain</code></ul><p>The <code>text</code> key is the only one required.<h3>OPEN QUESTIONS</h3><ol><li>How should exponents be represented? I.e. <code>x^2</code> or <code>A^\dagger</code>. They could literally be represented with a <code>sup</code> attribute, or as an explicit function, i.e. <code>fn:'pow'</code> or <code>fn:'transjugate'</code><li>Clarify how to represent variants for multiplications, e.g. <code>a \times b</code>, <code>a . b</code>, <code>a * b</code>, <code>ab</code>, etc…<li>How to encode logarithm and exponential (see 1.)<li>What should the effect of n-ary versions of divide, substract? One option is to apply a left-reduce to the arguments.<li>How should accents (i.e. arrow over symbol) be encoded? As an additional property? As a function? How about other stylistic variant (i.e. bold symbol, fraktur, blackboard, etc…)<li>Should there be a node type to represent conditions, i.e. expressions whose value is a boolean.<li>For functions defined with an openmath identifier, the value of the <code>fn</code> key could be the openmath identifier, i.e. <code>fn:"hypergeo0#gamma"</code></ol><h3>REFERENCES</h3><ol><li>https://www.json.org/<li>http://www.openmath.org/cd</ol></section><footer class=page__meta><meta content="May 04, 2020"itemprop=datePublished><p class=page__date><strong><i aria-hidden=true class="fa-calendar-alt fa-fw fas"></i> Updated:</strong> <time datetime="Mon May 04 2020 09:29:15 GMT-0700 (Pacific Daylight Time)">May 04, 2020</time></footer></div></article></div></div><div class=page__footer id=footer><footer><div class=page__footer-follow><ul class=social-icons><li><a href=https://github.com/cortex-js rel="nofollow noopener noreferrer"><svg class=icon1em><use role=none xlink:href=/assets/icons.svg#github></use></svg>GitHub</a><li><a href=https://gitter.im/cortex-js rel="nofollow noopener noreferrer"><svg class=icon1em><use role=none xlink:href=/assets/icons.svg#gitter></use></svg>Gitter</a></ul></div><div class=page__footer-pages><ul><li><a href=/about rel="nofollow noopener noreferrer">About Us</a></ul></div></footer></div>