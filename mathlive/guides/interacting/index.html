<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">




<title>
    CortexJS
</title>
<meta name="description" content="" />
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ECEC8YT7XS"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-ECEC8YT7XS');
</script>


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="CortexJS Feed">

<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="referrer" content="strict-origin" />

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>


  
    
      
    
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.48.0/codemirror.min.js" crossorigin='anonymous'></script>
  
    
      
    
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.48.0/mode/javascript/javascript.min.js" crossorigin='anonymous'></script>
  
    
      
    
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.48.0/mode/xml/xml.min.js" crossorigin='anonymous'></script>
  



  
    
      
    
    <script defer type="module" src="/assets/js/code-playground.js" crossorigin='anonymous'></script>
  



<link rel="stylesheet" href="/assets/css/main.css">

  
    
      
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.48.0/codemirror.min.css">
  





    <link
    crossorigin
    href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:100,100i,400,400i,700,700i,900,900i&display=block"
    rel="stylesheet"
/>

<link
    crossorigin
    rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@0,400;0,700;1,400;1,700&family=IBM+Plex+Sans:ital,wght@0,400;0,700;1,400;1,700&display=block"
/>


<script src="https://kit.fontawesome.com/523e3eb8bb.js" crossorigin="anonymous"></script>

<!-- <script>
  // ((window.gitter = {}).chat = {}).options = {
  //   room: 'cortex-js/community',
  //   activationElement: '.my-special-button',
  //   targetElement: '.my-special-target-element'
  // };
</script> -->
<!-- <script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async defer></script> -->

  </head>

  <body class="layout--single">
    <svg xmlns="http://www.w3.org/2000/svg" style="display:none">
      <defs>
          <symbol id='svg-chevron' aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14"><path fill="currentColor" d="m4.81347656 13.1269531c.22558594 0 .41015625-.0820312.56738282-.2324219l5.31835942-5.19531245c.1845703-.19140625.2802734-.38964844.2802734-.63574219 0-.23925781-.0888672-.45117187-.2802734-.62890625l-5.31835942-5.20214843c-.15722657-.15039063-.34179688-.23242188-.56738282-.23242188-.45800781 0-.81347656.35546875-.81347656.80664062 0 .21875.09570312.43066407.24609375.58789063l4.79199219 4.67578125-4.79199219 4.6621094c-.15722656.1640625-.24609375.3623047-.24609375.5878906 0 .4511719.35546875.8066406.81347656.8066406z"></path></symbol>
      </defs>
    </svg>
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    
  


<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        <input id="site-toc" name="site-toc" type="checkbox" />
        <label for="site-toc"><svg aria-hidden="true" focusable="false" data-prefix="far" data-icon="bars" class="svg-inline--fa fa-bars fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></label>
        
        <a class="site-title" href="/">
          Cortex<em>JS</em>
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
                <a href="/mathlive/" >MathLive</a>
              </li><li class="masthead__menu-item">
                <a href="/compute-engine/" >Compute Engine</a>
              </li><li class="masthead__menu-item">
                <a href="/cortex/" >Cortex</a>
              </li><li class="masthead__menu-item">
                <a href="https://gitter.im/cortex-js" title="Chat on Gitter"><svg class='icon1em'><use role='none' xlink:href='/assets/icons.svg#gitter'></use></svg></a>
              </li><li class="masthead__menu-item">
                <a href="https://github.com/cortex-js" title="Get source code on GitHub"><svg class='icon1em'><use role='none' xlink:href='/assets/icons.svg#github'></use></svg></a>
              </li></ul>
        
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      




<div id="main" role="main">
  
  <div class="sidebar sticky">
    
      
      
      

      
<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc"><svg aria-hidden="true" focusable="false" data-prefix="far" data-icon="bars" class="svg-inline--fa fa-bars fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg>
Table of Content</label>

  <ul class="nav__items">
    
      <li>
        
          <span class="nav__sub-title">MathLive</span>
        

        
        <ul>
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/mathlive/" data-url=/mathlive/guides/interacting/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#intro"></use></svg>
                  
                  Introduction
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/mathlive/demo/" data-url=/mathlive/guides/interacting/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#demo"></use></svg>
                  
                  Demo
                </a></li>
            
          
            
            
              <li class="separator"></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/mathlive/guides/getting-started/" data-url=/mathlive/guides/interacting/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#checklist"></use></svg>
                  
                  Getting Started
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/mathlive/guides/integration/" data-url=/mathlive/guides/interacting/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#guide"></use></svg>
                  
                  Add MathLive to your Project
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/mathlive/guides/interacting/" data-url=/mathlive/guides/interacting/ class="active">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#guide"></use></svg>
                  
                  Interacting
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/mathlive/guides/customizing/" data-url=/mathlive/guides/interacting/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#guide"></use></svg>
                  
                  Customize
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/mathlive/guides/commands/" data-url=/mathlive/guides/interacting/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#guide"></use></svg>
                  
                  Commands
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/mathlive/guides/macros/" data-url=/mathlive/guides/interacting/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#guide"></use></svg>
                  
                  Macros
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/mathlive/guides/shortcuts/" data-url=/mathlive/guides/interacting/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#guide"></use></svg>
                  
                  Shortcuts
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/mathlive/guides/speech/" data-url=/mathlive/guides/interacting/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#guide"></use></svg>
                  
                  Speech
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/mathlive/guides/static/" data-url=/mathlive/guides/interacting/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#guide"></use></svg>
                  
                  Static
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/mathlive/guides/virtual-keyboards/" data-url=/mathlive/guides/interacting/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#guide"></use></svg>
                  
                  Virtual Keyboards
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/mathlive/guides/lifecycle/" data-url=/mathlive/guides/interacting/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#guide"></use></svg>
                  
                  Lifecycle
                </a></li>
            
          
            
            
              <li class="separator"></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/mathlive/reference/commands/" data-url=/mathlive/guides/interacting/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#reference"></use></svg>
                  
                  Supported Commands
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/mathlive/reference/keybindings/" data-url=/mathlive/guides/interacting/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#reference"></use></svg>
                  
                  Keyboard Shortcuts
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/docs/mathlive/" data-url=/mathlive/guides/interacting/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#sdk"></use></svg>
                  
                  SDK Reference
                </a></li>
            
          
        </ul>
        
      </li>
    
      <li>
        
          
          
            
          

          <span class="nav__sub-title"><a href="/cortex/">Cortex</a></span>
        

        
      </li>
    
      <li>
        
          
          
            
          

          <span class="nav__sub-title"><a href="/compute-engine/">Compute Engine</a></span>
        

        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Contributing</span>
        

        
        <ul>
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/docs/reporting-issues/" data-url=/mathlive/guides/interacting/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#checklist"></use></svg>
                  
                  Reporting Issues
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/docs/contributing-code/" data-url=/mathlive/guides/interacting/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#checklist"></use></svg>
                  
                  Contributing Code
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/funding/" data-url=/mathlive/guides/interacting/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#guide"></use></svg>
                  
                  Funding
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/docs/code-of-conduct/" data-url=/mathlive/guides/interacting/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#guide"></use></svg>
                  
                  Code of Conduct
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/docs/license/" data-url=/mathlive/guides/interacting/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#guide"></use></svg>
                  
                  License
                </a></li>
            
          
        </ul>
        
      </li>
    
  </ul>
</nav>
    
  </div>


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">

    <div class="page__inner-wrap">

      <section class="page__content" itemprop="text">
        
        <script>
    moduleMap = {
        mathlive: "//unpkg.com/mathlive/dist/mathlive.min.mjs",
    };
</script>
<h1>Interacting with a Mathfield</h1>
<h2>Reading the Content of a Mathfield</h2>
<p>The content of a mathfield is available by reading the <code>value</code>
property of the mathfield element, just like with a <code>&lt;textarea&gt;</code>.</p>
<p><strong>To be notified as soon as the content of the mathfield is modified</strong> listen for
an <code>'input'</code> event.</p>
<p class="notice--info"><strong>Try</strong>: modify the <code>'input'</code> event below to a <code>'change'</code> event. Notice how the <code>'change'</code> event
is only sent if you press the <strong>Return</strong> or <strong>Enter</strong> key, or when the mathfield
loses focus and the content has been modified.</p>
<code-playground layout="stack" class="m-lg w-full-lg">
    <style slot="style">
      .output:focus-within {
        outline: Highlight auto 1px;
        outline: -webkit-focus-ring-color auto 1px
      }
      .output math-field:focus, .output math-field:focus-within {
        outline: none;
      }
    </style>
    <div slot="javascript">document.getElementById('formula').addEventListener('input',(ev) => {
    // `ev.target` is an instance of `MathfieldElement`
    console.log(ev.target.value);
});</div>
    <div slot="html">&lt;script src="//unpkg.com/mathlive/dist/mathlive.min.js"&gt;&lt;/script&gt;
&lt;math-field id="formula"&gt;
    x=\frac{-b\pm \sqrt{b^2-4ac}}{2a}
&lt;/math-field&gt;</div>
</code-playground>
<p>Reading the <code>value</code> property is equivalent to calling the <code>getValue()</code> method with
no argument.</p>
<p><strong>To control how the result is formatted</strong>, pass options to <a href="/docs/mathlive/#(%22mathfield-element%22%3Amodule).(MathfieldElement%3Aclass).(getValue%3Ainstance)"><code>getValue()</code></a>.
For example to get the content as a MathJSON expression, use <code>getValue('math-json')</code>.</p>
<p class="notice--info">The MathJSON format is a lightweight data interchange format for mathematical notation. <a href="/math-json/">Learn more about MathJSON</a>.</p>
<p class="notice--info"><strong>Try:</strong> <a href="/docs/mathlive/#(%22mathfield%22%3Amodule).(OutputFormat%3Atype)">Other formats</a> are available: change <code>'math-json'</code> to <code>'spoken-text'</code>.</p>
<code-playground layout="stack" class="m-lg w-full-lg">
    <div slot="html">&lt;script src="//unpkg.com/mathlive/dist/mathlive.min.js"&gt;&lt;/script&gt;
&lt;math-field id="formula"&gt;
    x=\frac{-b\pm \sqrt{b^2-4ac}}{2a}
&lt;/math-field&gt;</div>
    <div slot="javascript">const mf = document.getElementById('formula');
mf.addEventListener('input',(ev) => {
    // `ev.target` is an instance of `MathfieldElement`
    console.log(ev.target.getValue('math-json'));
});</div>
</code-playground>
<h2>Changing the Content of a Mathfield</h2>
<p>You can change the value of the mathfield programatically. In the example
below, the <strong>Latex</strong> input field is editable and is reflected in the mathfield
(and vice-versa).</p>
<p class="notice--info">Note that we use the <code>suppressChangeNotifications</code> option when
changing the content of the mathfield, to prevent a <code>'input'</code> event from being
triggered and creating an infinite loop.</p>
<code-playground layout="stack" class="m-lg w-full-lg">
  <div slot="javascript">import 'mathlive';
    const mf = document.getElementById('formula');
    mf.addEventListener('input',(ev) => {
        document.getElementById('latex').value = mf.value;
    });
//
    document.getElementById('latex').value = mf.value;
//
    // Listen for changes in the latex text field, and reflect its value in 
    // the mathfield.
//
    document.getElementById('latex').
      addEventListener('input', (ev) => {
        mf.setValue(
          ev.target.value, 
          {suppressChangeNotifications: true}
        );
    });
  </div>
  <div slot="html">&lt;label&gt;Mathfield&lt;/label&gt;
  &lt;math-field id="formula"&gt;
  x=\frac{-b\pm \sqrt{b^2-4ac}}{2a}
  &lt;/math-field&gt;                
  &lt;label&gt;Latex&lt;/label&gt;
  <textarea class="output" id="latex" autocapitalize="off" autocomplete="off"
  autocorrect="off" spellcheck="false"></textarea></textarea>
  </div>
</code-playground>
<h2>Applying Style to a Mathfield</h2>
<p>The text color (“ink”) and background color (“paper”), as well as other
stylistic attributes, can be changed on a mathfield, or a portion of a mathfield
using <code>applyStyle()</code>.</p>
<p class="notice--info">This style applies to the content of the formula and will be reflected in the Latex output. To change the appearance of the mathfield but not
the content of the formula, see <a href="mathlive/guides/customizing/">Customizing</a>.</p>
<code-playground layout="stack" class="m-lg w-full-lg">
    <style slot="style">
      .output:focus-within {
        outline: Highlight auto 1px;
        outline: -webkit-focus-ring-color auto 1px
      }
      .output math-field:focus, .output math-field:focus-within {
        outline: none;
      }
    </style>
    <div slot="javascript">import 'mathlive';
const mf = document.getElementById('formula');
// Change the background color of the entire mathfield
mf.applyStyle(
  {backgroundColor: 'yellow' }, 
  {range: [0, -1]}
);
</div>
<div slot="html">
&lt;math-field id="formula"&gt;
x=\frac{-b\pm \sqrt{b^2-4ac}}{2a}
&lt;/math-field&gt;                
</div>
</code-playground>
<p><strong>To change the style of a portion of the mathfield</strong>, specify a selection range
to <code>applyStyle()</code>.</p>
<code-playground layout="stack" class="m-lg w-full-lg">
    <style slot="style">
      .output:focus-within {
        outline: Highlight auto 1px;
        outline: -webkit-focus-ring-color auto 1px
      }
      .output math-field:focus, .output math-field:focus-within {
        outline: none;
      }
    </style>
    <div slot="javascript">import 'mathlive';
const mf = document.getElementById('formula');
// Change the color and size of the first two characters of the mathfield
mf.applyStyle({color: "red", fontSize: 7 }, { range: [0, 2] });
</div>
<div slot="html">
&lt;math-field id="formula"&gt;
x=\frac{-b\pm \sqrt{b^2-4ac}}{2a}
&lt;/math-field&gt;                
</div>
</code-playground>
<h2>Detecting a Click on a Mathfield</h2>
<p>In most cases Mathlive will respond to mouse and keyboard interactions with
the mathfield. However, in some cases it might be useful to detect when a
mathfield is clicked on. For example, you could display one or more read-only
mathfields in a list and prompt the user to pick one by clicking on it.</p>
<p>In general, to be notified of an event, use <code>mf.addEventListener()</code>. This
include some generic events, as well as some that are specific to mathfields.
Events that target a DOM element inside the mathfield (inside the shadow DOM)
will bubble and be retargeted to appear as if they had targeted the
mathfield (that is, the <code>evt.target</code> will be the mathfield itself).</p>
<p>This include the following standard events:</p>
<ul>
<li><code>change</code>: <em>Return</em> or <em>Enter</em> key was pressed</li>
<li><code>blur</code>, <code>focus</code>, <code>focusin</code>, <code>focusout</code></li>
<li><code>mousedown</code>, <code>mouseup</code>, <code>mousemove</code>, <code>mouseout, </code>mouseover`</li>
<li><code>wheel</code></li>
<li><code>beforeinput</code>, <code>input</code>, <code>keydown</code>, <code>keyup</code></li>
<li>all the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Pointer_events">pointer events</a> such as <code>pointerdown</code>, <code>pointerup</code>, etc… and all the touch events</li>
</ul>
<p>As well as these mathfield specific events:</p>
<ul>
<li><code>mount</code>: the mathfield has been connected to the DOM</li>
<li><code>unmount</code>: the mathfield is no longer connected to the DOM</li>
<li><code>math-error</code>: syntax and other errors</li>
<li><code>keystroke</code>: general keyboard interactions</li>
<li><code>focus-out</code>: tab key interactions</li>
<li><code>move-out</code>: arrow key interactions</li>
<li><code>mode-change</code>: change to <code>math</code>, <code>text</code> or <code>latex</code> mode</li>
<li><code>read-aloud-status-change</code></li>
<li><code>selection-change</code></li>
<li><code>undo-state-change</code></li>
</ul>
<p>The <code>click</code> event may be dispatched in some cases. However, this event should
be avoided. It is a synthetic event, meaning it’s generated by the browser
based on some heuristic that tries to detect a <code>pointerdown</code> followed by a
<code>pointer</code>up on the same DOM element. However, interacting with a mathfield may
change its DOM elements (to display the selection for example), the browser
may not be able to reliably trigger this event.</p>
<p>Instead, to detect when a mathfield is being clicked on, listern for a <code>focus</code>
event or a <code>pointerdown</code> event. The <code>focus</code> event has the benefit of working
with both mouse and keyboard, which makes this solution more accessible.</p>
<h2>Detecting When the User has Finished Editing a Mathfield</h2>
<p><strong>To detect when the user presses the <strong>Return</strong> or <strong>Enter</strong> key in a mathfield</strong>,
listen for the <code>change</code> event. Note that this event is not fired when in Latex
editing mode, where <strong>Return</strong> or <strong>Enter</strong> is used to exit the mode.</p>
<h2>Interacting with the Clipboard</h2>
<p>Users can export the content of the mathfield by using standard <strong>Copy</strong>/<strong>Cut</strong>
commands (<kbd>ctrl</kbd>/<kbd>command</kbd>+<kbd>X</kbd> and <kbd>ctrl</kbd>/<kbd>command</kbd>+<kbd>C</kbd>).</p>
<p>Multiple flavors are put on the clipboard, and the recipient of the <strong>Paste</strong> operation can pick whichever is most appropriate:</p>
<div class='symbols-table'>
<table>
<thead>
<tr>
<th style="text-align:left"></th>
<th style="text-align:left"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>text/plain</code></td>
<td style="text-align:left">Latex wrapped with a <code>\begin{equation*}</code> and <code>\end{equation*}</code>.</td>
</tr>
<tr>
<td style="text-align:left"><code>application/x-latex</code></td>
<td style="text-align:left">Raw Latex</td>
</tr>
<tr>
<td style="text-align:left"><code>application/json</code></td>
<td style="text-align:left">A MathJSON representation of the formula.</td>
</tr>
<tr>
<td style="text-align:left"><code>application/mathml+xml</code></td>
<td style="text-align:left">A MathML representation of the formula.</td>
</tr>
</tbody>
</table>
</div>
<p>The Latex in the <code>text/plain</code> flavor is “wrapped” to make it easier for the recipient of the paste to recognize that this content is in Latex format. There isn’t really a standard format for this, but testing of several Latex-capable editors has shown that <code>\begin{equation*}</code> was the most commonly recognized.</p>
<p class="notice--info">For improved interoperability, the exported Latex uses the <code>latex-expanded</code> format. In this format, macros that may be used in the formula are expanded to their definition. For example, if the <code>\differentialD</code> command is used in the formula, it is exported as its corresponding definition, <code>\mathrm{d}</code>. .</p>
<p><strong>To customize the content of the <code>text/plain</code> flavor</strong>, use the <code>onExport()</code> hook.</p>
<p>For example, to wrap the exported latex with <code>&lt;math&gt;...&lt;/math&gt;</code> instead:</p>
<pre><code class="language-js">mf.<span class="hljs-title function_">setOptions</span>({<span class="hljs-attr">onExport</span>: <span class="hljs-function">(<span class="hljs-params">mf, latex</span>) =&gt;</span> <span class="hljs-string">`&lt;math&gt;<span class="hljs-subst">${latex}</span>&lt;/math&gt;`</span>});
</code></pre>
<p><strong>To export the “raw” (not expanded) Latex)</strong>, use:</p>
<pre><code class="language-js">mf.<span class="hljs-title function_">setOptions</span>({<span class="hljs-attr">onExport</span>: <span class="hljs-function">(<span class="hljs-params">mf, latex, range</span>) =&gt;</span> 
  <span class="hljs-string">`\\(<span class="hljs-subst">${mg.getValue(range, <span class="hljs-string">&#x27;latex&#x27;</span>)}</span>\\)`</span>
});
</code></pre>
<p>The exported format doesn’t have to be Latex. To export ASCIIMath instead:</p>
<pre><code class="language-js">mf.<span class="hljs-title function_">setOptions</span>({<span class="hljs-attr">onExport</span>: <span class="hljs-function">(<span class="hljs-params">mf, latex, range</span>) =&gt;</span> 
  <span class="hljs-string">&quot;`&quot;</span> + mg.<span class="hljs-title function_">getValue</span>(range, <span class="hljs-string">&#x27;ascii-math&#x27;</span>) + <span class="hljs-string">&quot;`&quot;</span>.
});
</code></pre>
<p class="notice--info">The standard delimiter for AsciiMath is the <kbd>`</kbd> (backtick) character .</p>
<!-- Intercepting navigate out of and multiple fields -->
<!-- MathfieldListeners --> 
<!-- $insert() -->
<!-- ## Performing editing commands -->
<div class='read-more'><a href="/mathlive/guides/customizing/">Next: <strong>Customizing a Mathfield</strong>: controlling its appearance and behavior<svg class="svg-chevron" ><use xlink:href="#svg-chevron"></use></svg></a></div>
<div class='read-more'><a href="/mathlive/guides/lifecycle/">Next: Understand in depth the <strong>Lifecycle of a MathfieldElement</strong>: construction, interaction with the DOM and when you can communicate with it<svg class="svg-chevron" ><use xlink:href="#svg-chevron"></use></svg></a></div>

        
      </section>

      <footer class="page__meta">
        
        


        <meta itemprop="datePublished" content="June 19, 2021">
        
        
          <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated</strong> <time datetime="Sat Jun 19 2021 09:29:00 GMT+0200 (Central European Summer Time)">June 19, 2021</time></p>
        

          <p class='page__meta-link'><i class="fas fa-fw fa-bug" aria-hidden="true"></i> <strong>See a typo? Question? Feedback?</strong> File issues at <a href="https://github.com/cortex-js/cortexjs.io">github.com/cortex-js/cortexjs.io</a></p>
      </footer>


      
    </div>

  </article>
</div>

<script type='module'>
  import {renderMathInDocument} from '//unpkg.com/mathlive/dist/mathlive.min.mjs';
  window.addEventListener('DOMContentLoaded', (event) => {
      renderMathInDocument({ 
      renderAccessibleContent: false,
      TeX: { 
        delimiters: {
          inline: [['\\(', '\\)']],
          display: [ ['$$', '$$'], ['\\[', '\\]']],
        },
        processEnvironments : false 
      },
      asciiMath: null,
    });
  });
</script>

    </div>

    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
    <ul class="social-icons">
         
         
         
         
         
         
         
        
        <li>
            <a href="https://github.com/cortex-js" rel="nofollow noopener noreferrer"
                ><svg class='icon1em'><use role='none' xlink:href='/assets/icons.svg#github'></use></svg>GitHub</a
            >
        </li>
         
         
         
         
         
         
         
         
        
        <li>
            <a href="https://gitter.im/cortex-js" rel="nofollow noopener noreferrer"
                ><svg class='icon1em'><use role='none' xlink:href='/assets/icons.svg#gitter'></use></svg>Gitter</a
            >
        </li>
         
         
        

    </ul>
</div>
<div class="page__footer-pages">
             
    <ul>
         
        
        <li>
            <a href="/about" rel="nofollow noopener noreferrer">About Us</a
            >
        </li>
         
         
    </ul>
        

</div>
      </footer>
    </div>

    
  <!-- <script defer src="/assets/js/main.min.js"></script> -->









  </body>
</html>