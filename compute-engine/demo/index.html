<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">




<title>
    CortexJS
</title>
<meta name="description" content="" />
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ECEC8YT7XS"></script>
<script>
  if(/cortexjs\.io/.test(window.location.hostname)) {
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-ECEC8YT7XS');
  }
</script>


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="CortexJS Feed">

<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="referrer" content="strict-origin" />

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>






<link rel="stylesheet" href="/assets/css/main.css">

  
    
      
    
    <link rel="stylesheet" href="https://unpkg.com/mathlive/dist/mathlive-static.css">
  





    <link rel="preconnect" href="https://kit.fontawesome.com">
<script src="https://kit.fontawesome.com/523e3eb8bb.js" crossorigin="anonymous"></script>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link crossorigin href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital@0;1&family=IBM+Plex+Sans:ital,wght@0,100;0,400;0,600;0,700;1,400&display=block" rel="stylesheet">


<!-- <script>
  // ((window.gitter = {}).chat = {}).options = {
  //   room: 'cortex-js/community',
  //   activationElement: '.my-special-button',
  //   targetElement: '.my-special-target-element'
  // };
</script> -->
<!-- <script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async defer></script> -->

  </head>

  <body class="layout--single">
    <svg xmlns="http://www.w3.org/2000/svg" style="display:none">
      <defs>
          <symbol id='svg-chevron' aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14"><path fill="currentColor" d="m4.81347656 13.1269531c.22558594 0 .41015625-.0820312.56738282-.2324219l5.31835942-5.19531245c.1845703-.19140625.2802734-.38964844.2802734-.63574219 0-.23925781-.0888672-.45117187-.2802734-.62890625l-5.31835942-5.20214843c-.15722657-.15039063-.34179688-.23242188-.56738282-.23242188-.45800781 0-.81347656.35546875-.81347656.80664062 0 .21875.09570312.43066407.24609375.58789063l4.79199219 4.67578125-4.79199219 4.6621094c-.15722656.1640625-.24609375.3623047-.24609375.5878906 0 .4511719.35546875.8066406.81347656.8066406z"></path></symbol>
      </defs>
    </svg>
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    
  




<div class="masthead ">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        <input id="site-toc" name="site-toc" type="checkbox" />
        <label for="site-toc"><svg aria-hidden="true" focusable="false" data-prefix="far" data-icon="bars" class="svg-inline--fa fa-bars fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></label>
        
        <a class="site-title" href="/">
          Cortex<em>JS</em>
          
        </a>
        <ul class="visible-links">
              
              <li class="masthead__menu-item ">
                <a href="/mathlive/" >MathLive</a>
              </li>
              
              <li class="masthead__menu-item  active ">
                <a href="/compute-engine/" >Compute Engine</a>
              </li>
              
              <li class="masthead__menu-item ">
                <a href="/cortex/" >Cortex</a>
              </li>
              
              <li class="masthead__menu-item ">
                <a href="https://gitter.im/cortex-js" title="Chat on Gitter"><svg class='icon1quarterem'><use role='none' xlink:href='/assets/icons.svg#gitter'></use></svg></a>
              </li>
              
              <li class="masthead__menu-item ">
                <a href="https://github.com/cortex-js" title="Get source code on GitHub"><svg class='icon1quarterem'><use role='none' xlink:href='/assets/icons.svg#github'></use></svg></a>
              </li></ul>
        
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      




<div id="main" role="main">
  
  <div class="sidebar sticky">
    
      
      
      

      
<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc"><svg aria-hidden="true" focusable="false" data-prefix="far" data-icon="bars" class="svg-inline--fa fa-bars fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg>
Table of Content</label>

  <ul class="nav__items">
    
      <li>
        
          <span class="nav__sub-title">Compute Engine</span>
        

        
        <ul>
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/compute-engine/" data-url=/compute-engine/demo/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#intro"></use></svg>
                  
                  Introduction
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/compute-engine/demo/" data-url=/compute-engine/demo/ class="active">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#flask"></use></svg>
                  
                  Demo
                </a></li>
            
          
            
            
              <li class="separator"></li>
              </ul></li><li><ul>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/compute-engine/changelog/" data-url=/compute-engine/demo/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#log"></use></svg>
                  
                  Changelog
                </a></li>
            
          
            
            
              <li class="separator"></li>
              </ul></li><li><ul>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/compute-engine/guides/expressions/" data-url=/compute-engine/demo/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#guide"></use></svg>
                  
                  Expressions
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/compute-engine/guides/latex-syntax/" data-url=/compute-engine/demo/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#guide"></use></svg>
                  
                  LaTeX Syntax
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/compute-engine/guides/symbolic-computing/" data-url=/compute-engine/demo/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#guide"></use></svg>
                  
                  Symbolic Computing
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/compute-engine/guides/canonical-form/" data-url=/compute-engine/demo/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#guide"></use></svg>
                  
                  Canonical Form
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/compute-engine/guides/simplify/" data-url=/compute-engine/demo/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#guide"></use></svg>
                  
                  Simplify
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/compute-engine/guides/evaluate/" data-url=/compute-engine/demo/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#guide"></use></svg>
                  
                  Evaluation
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/compute-engine/guides/numeric-evaluation/" data-url=/compute-engine/demo/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#guide"></use></svg>
                  
                  Numeric Evaluation
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/compute-engine/guides/assumptions/" data-url=/compute-engine/demo/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#guide"></use></svg>
                  
                  Assumptions
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/compute-engine/guides/domains/" data-url=/compute-engine/demo/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#guide"></use></svg>
                  
                  Domains
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/compute-engine/guides/patterns-and-rules/" data-url=/compute-engine/demo/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#guide"></use></svg>
                  
                  Patterns and Rules
                </a></li>
            
          
            
            
              <li class="separator"></li>
              </ul></li><li><ul>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/docs/compute-engine/" data-url=/compute-engine/demo/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#sdk"></use></svg>
                  
                  SDK Reference
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/math-json/" data-url=/compute-engine/demo/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#reference"></use></svg>
                  
                  The MathJSON Format
                </a></li>
            
          
            
            
              <li class="separator"></li>
              </ul></li><li><ul>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/compute-engine/guides/dictionaries/" data-url=/compute-engine/demo/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#intro"></use></svg>
                  
                  Dictionaries
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/compute-engine/reference/arithmetic/" data-url=/compute-engine/demo/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#reference"></use></svg>
                  
                  Arithmetic
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/compute-engine/reference/calculus/" data-url=/compute-engine/demo/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#reference"></use></svg>
                  
                  Calculus
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/compute-engine/reference/collections/" data-url=/compute-engine/demo/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#reference"></use></svg>
                  
                  Collections
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/compute-engine/reference/core/" data-url=/compute-engine/demo/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#reference"></use></svg>
                  
                  Core
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/compute-engine/reference/domains/" data-url=/compute-engine/demo/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#reference"></use></svg>
                  
                  Domains
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/compute-engine/reference/logic/" data-url=/compute-engine/demo/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#reference"></use></svg>
                  
                  Logic
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/compute-engine/reference/sets/" data-url=/compute-engine/demo/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#reference"></use></svg>
                  
                  Sets
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/compute-engine/reference/special-functions/" data-url=/compute-engine/demo/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#reference"></use></svg>
                  
                  Special Functions
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/compute-engine/reference/trigonometry/" data-url=/compute-engine/demo/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#reference"></use></svg>
                  
                  Trigonometry
                </a></li>
            
          
        </ul>
        
      </li>
    
      <li>
        
          
          
            
          

          <span class="nav__sub-title"><a href="/mathlive/">MathLive</a></span>
        

        
      </li>
    
      <li>
        
          
          
            
          

          <span class="nav__sub-title"><a href="/cortex/">Cortex</a></span>
        

        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Contributing</span>
        

        
        <ul>
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/docs/reporting-issues/" data-url=/compute-engine/demo/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#bug"></use></svg>
                  
                  Reporting Issues
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/docs/contributing-code/" data-url=/compute-engine/demo/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#code-branch"></use></svg>
                  
                  Contributing Code
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/funding/" data-url=/compute-engine/demo/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#seedling"></use></svg>
                  
                  Funding
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/docs/code-of-conduct/" data-url=/compute-engine/demo/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#handshake"></use></svg>
                  
                  Code of Conduct
                </a></li>
            
          
            
            
              
                
              

                            
              
                
              

              <li>              
                <a href="/docs/license/" data-url=/compute-engine/demo/ class="">
                  
                    <svg class="nav__icon" ><use xlink:href="/assets/icons.svg#handshake"></use></svg>
                  
                  License
                </a></li>
            
          
        </ul>
        
      </li>
    
  </ul>
</nav>
    
  </div>


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">

    <div class="page__inner-wrap">

      <section class="page__content" itemprop="text">
        
        
<style>
  body {
    --hue: 210;
    --on-primary: hsl(var(--hue), 0%, 100%);
    --primary: hsl(var(--hue), 40%, 31%);
    --surface: #fafafa;
    --surface-border: #fff;
    --on-surface: hsl(var(--hue), 19%, 26%);

    --secondary-surface: hsl(0, 0%, 99.5%);
    --secondary-surface-border: hsl(0, 0%, 93%);
    --link: hsl(var(--hue), 100%, 40%);

    --editable: #fff;
    --editable-border: #ddd;
    --on-editable: #333;
    --primary-light: #86a8cb;
  }

  @media (prefers-color-scheme: dark) {
    body {
      --surface: hsl(var(--hue), 19%, 26%);
      --surface-border: hsl(0, 0%, 20%);
      --on-surface: hsl(0, 0%, 98%);
      --primary: hsl(var(--hue), 100%, 50%);

      --secondary-surface: hsl(0, 0%, 19%, 0.3);
      --secondary-surface-border: hsl(0, 0%, 22%);
      --link: hsl(var(--hue), 100%, 63%);

      --editable: #333;
      --editable-border: hsl(0, 0%, 13%);
      --on-editable: #fff;
    }
  }

  main {
    display: flex;
    align-items: flex-start;
    flex-flow: column wrap;
    margin: auto;
    width: 800px;
  }
  main > div {
    width: 100%;
  }

  main > div.frame {
    margin-top: 2em;
    padding-left: 1em;
    padding-right: 1em;
    width: calc(100% - 2em);
    margin-bottom: 4em;
    background: var(--secondary-surface);
    border: 1px solid var(--secondary-surface-border);
    border-radius: 8px;
  }

  kbd {
    font-family: var(--monospace-font);
    background: #f4f4f4;
    color: #333;
    padding: 1px 5px;
    border-radius: 5px;
  }

  .output {
    font-family: var(--monospace-font);
    color: var(--base-0a); /* #f0c674; */

    background: var(--console-background);

    padding: 5px;
    margin: 10px 0 10px 0;
    border-radius: 5px;
    border: var(--ui-border);

    min-height: 1em;
    padding-top: 0.5em;
    padding-bottom: 0.5em;

    word-break: break-word;
    white-space: pre-wrap;
  }

  .mathfield {
    border: 1px solid var(--editable-border);
    padding: 5px;
    margin: 10px 0 10px 0;
    border-radius: 5px;
    background: var(--editable);
    color: var(--on-editable);
  }

  .fa-w-24 {
    width: 24px;
    vertical-align: -5px;
  }
  code {
    white-space: pre-wrap;
  }

  .page__content h2 {
    font-size: 1em;
    padding: 0;
    margin: 0;
    color: #666;
    border: none;
  }

  h2 code {
    font-family: var(--monospace-font);
    font-size: 1em;
  }

  .latex {
    padding: 10px;
    padding-top: 1px;
    padding-bottom: 1px;
    border-radius: 5px;
    border: 1px solid #f0f0f0;
    background: #f8f8f8;
    width: 100%;
    overflow-x: auto;
    overflow-x: overlay;
  }

  #mf { width: 100% }

  #input-label {
    min-width: fit-content; 
    margin-right: .5em;
  }

  #assumptions ul {
    padding-top: .25em;
    border-left: 1px solid #333;
    padding-left: 1em;
    margin-bottom: 3em;
  }

  #assumptions ul li {
    list-style: none;
    margin-bottom: 1em;
  }

  button.toggle {
    display: flex;
    align-items: center;
    appearance: none;
    border: none;
    background: none;
    border-radius: 4px;
    width: 36px;
    height: 36px;
    color: #777;
    margin-left: 8px;
  }
  button.toggle:hover, button.toggle:active {
    background: var(--ui-background-hover);
    color: #000;
  } 
  button.toggle.is-on {
    color: #fff;
    background: var(--primary-color);
  }
  button.toggle svg {
    width: 24px;
    height: 24px;
  }

  .row {
    margin-top: .5em;
    display: inline-flex;
    align-items: center;
    width: 100%;
  }

  .output-section.is-visible { display: block; }
  .output-section { display: none; margin-bottom: 1em;} 
  
  .toggle-field {
    display: none;
  }
  .toggle-field.is-visible {
    display: block;
  }

  .segmented-control {
    display: flex;
    width: 100%;
    margin: 0 auto;
    font-size: .75rem;
    font-family: var(--ui-font);
    font-weight: 600;
    border: var(--ui-border);
    border-radius: 8px;
    background: var(--ui-background);
    padding: 4px;
  }

  .segmented-control > input {
    display: none;
  }
  .segmented-control > input:checked + label {
    background: var(--primary-color);
    color: #fff;
    border-radius: 8px;
  }

  .segmented-control label {
    flex: 1;
    text-align: center;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    cursor: pointer;
    user-select: none;
    border-radius: 8px;

    padding: 8px 0;
    transition: all 250ms cubic-bezier(0,.95,.38,.98);

    width : calc(100% / var(--segments));
    margin-left: 2px;
  }
  .segmented-control label:first {
    margin-left: 0;
  }
  .segmented-control label:hover {
    background: var(--ui-background-hover);
  }

  code.label {
    width: 270px;
  }

  h1 {
    line-height: .8
  }

  h1 span {
    display: block;
    line-height: 1;
    margin-left: 3px;   /* Optical alignment */
    padding:0;
    margin: 0;
    font-size: 16px;
    color: #aaa;
  }

  @media (prefers-color-scheme: dark) {
    kbd {
      background: #333;
      color: #f4f4f4;
    }

    .latex {
      border: 1px solid #101010;
      background: #333;
    }


    .segmented-control {


    }
  }


</style>

<svg xmlns="http://www.w3.org/2000/svg" style="display:none">
  <defs>
    <symbol id="info-circle" aria-hidden="true" focusable="false" data-prefix="fal" data-icon="info-circle" class="svg-inline--fa fa-info-circle fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 512"><path fill="currentColor" d="M256 40c118.621 0 216 96.075 216 216 0 119.291-96.61 216-216 216-119.244 0-216-96.562-216-216 0-119.203 96.602-216 216-216m0-32C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm-36 344h12V232h-12c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h48c6.627 0 12 5.373 12 12v140h12c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12h-72c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12zm36-240c-17.673 0-32 14.327-32 32s14.327 32 32 32 32-14.327 32-32-14.327-32-32-32z"></path>
    </symbol>
  </defs>
</svg>

  <h1><span>CortexJS Compute Engine</span>Demo</h1>

  <main id="main" class="container">

    <div id="input">
      <code class="label">expr = </code>
      <div class="row">
        <math-field id="mf" class="mathfield" tabindex="0" virtual-keyboard-mode="manual">
          <!-- 2+3.001 -->
          e^{i\pi}
          <!-- 1 + 2 + 3.001 -->
          <!-- \frac{5+3i}{2} -->
          <!-- \frac{6}{2}+\frac{3i}{2} -->
          <!-- \frac{3+2i}{2} -->
          <!-- 2(-i)+i  -->
          <!-- \frac{6}{2}+\frac{3\imaginaryI}{2} -->

          <!-- \frac{6 + 3\imaginaryI}{2} -->
          <!-- 0x^2 + 4x  + 2x + 2(x-1) + b(x - 1) -->
        <!-- \operatorname{NonNegativeRealNumber} -->
        <!-- -\frac{50}{70}+\operatorname{GoldenRatio} -->
        <!-- 3 (2x + 1) + \frac{x}{2} + \frac{3x}{2} + 4\frac{x}{2} -->
        <!-- \sqrt{1}[3] -->
        <!-- \sin(x -->
        <!-- x=\frac{-b\pm\sqrt{b^2-4ac}} {2a} -->
        <!-- 2^3^4 -->
        <!-- \sqrt{1}[3] -->
        <!-- = should produce error or Missing = Missing -->
        <!-- x=\frac{-b\pm \sqrt{b^2-4ac}}{2a} -->
        <!-- (b^3c^2d)(x^7y)(a^5f)(b^2x^5b3) -->
        <!-- {}_3^2 -->
      </math-field>
      <button class="toggle"><svg><use xlink:href="#info-circle" /></svg></button>
    </div>
    <div class="toggle-field">
      <div id="mathfield-latex" class="output"></div>
      <div id="mathfield-math-json" class="output mathjson"></div>
    </div>
  </div>

  <!-- 2{xy}     1+|a+|2|+b| -->
    <!-- ,c,b -->
    <!-- a,c, -->
    <!-- a,, c -->
    <!-- x{}_{p+1}^{q+1}x_{r+1}^{s+1} -->
    <!-- 12+ should generate ["Add", 12]-->
    <!-- \lbrack\rbrack -->
    <!-- \foo  -->
    <!-- a\le b \overline{z} \overrightarrow{ABC} -->
    <!-- \partial^2_{x,y} f(x,y) -->
    <!-- -0+0(\frac{0}{\frac{0}{0}}-0)+x^\pi -->
    <!-- -0+0(\frac{0}{\frac{0}{0}}-0) -->
    <!-- x_0 + x_{0} +  x_n + x_{n+1}-->
    <!-- -2x5z\sqrt{y}\frac{3}{4}3\pi y} -->
    <!-- \sin^{-1}\prime(x)      \sin^{-1}'(x) -->
    <!-- "\begin{align*}\dot{x} & =\sigma(y-x) \\ \dot{y} & =\rho x-y-xz \\ \dot{z} & =-\beta z+xy\end{align*}" -->
    <!-- 2{xy} should create group -->

    <!-- -(x) -->
    <!-- -5-3-2 -->
    <!-- -123, +456.789, -->
    <!-- x_{0} -->
    <!-- -123, 456.789, -->
    <!-- |(a+|b|+1)| -->
    <!-- i, 2i, -i -->
    <!-- (a,,b) -->
    <!-- x_5 -->
    <!-- (\mathtt{dead\;beef})_{16} -->
    <!-- (x,,2) -->
    <!-- $$(deadbeef)_{16}$$ -->

    <!-- \huge x \text{y} -->
    <!-- \scriptscriptstyle x \text{y} -->
    <!-- \sqrt[\Huge 3]{29} -->
    <!-- x^{\binom{n}{k}} -->
    <!-- \binom12 \textstyle \binom34 \scriptstyle \binom56 \displaystyle \binom78 \scriptstyle \binom90 -->
    <!-- \int^b_a x^2 dx -->
    <!-- \int^b_a\int^c_d x^2 dx dy -->
    <!-- \int x^2 + x = 0 -->
    <!-- \int x^2 + x dx = 0 -->
    <!-- \int (x^2 + x) dx = 0 -->

    <!-- <div class='output-section is-visible'>
      <div class='row'><div class="output" id="latex"></div></div>
    </div> -->

    <!-- <div>
      Assumptions: <span id="assumptions"></span>
    </div> -->


    <!-- <h2>Input ASCIIMath</h2>
    <div class="output" id="asciimath"></div> -->

    <!-- <div class="output-section" id='raw-form'>
      <h2>Raw Form</h2>
      <div class="output mathjson"></div>
    </div> -->

    <div class="output-section" id="json-form">
      <h2><code class="label">expr.json</code></h2>
      <div class="row">
        <div class="latex"></div>
        <button class="toggle"><svg><use xlink:href="#info-circle" /></svg></button>
      </div>
      <div class="output mathjson toggle-field"></div>
    </div>

    <div class="output-section" id="canonical-form">
      <code class="label">expr.canonical&nbsp;=&nbsp;</code>
      <div class="row">
        <math-field class="latex" read-only></math-field>
        <button class="toggle"><svg><use xlink:href="#info-circle" /></svg></button>
      </div>
      <div class="output mathjson toggle-field"></div>
    </div>

    <div class="output-section" id="domain">
      <code class="label">expr.domain&nbsp;=&nbsp;</code>
      <div class="row">
        <math-field class="latex" read-only></math-field>
        <button class="toggle"><svg><use xlink:href="#info-circle" /></svg></button>
      </div>
      <div class="output mathjson toggle-field"></div>
    </div>


    <div class="output-section" id="simplify">
      <code class="label">expr.simplify()&nbsp;=&nbsp;</code>
      <div class="row">
        <math-field class="latex" read-only></math-field>
        <button class="toggle"><svg><use xlink:href="#info-circle" /></svg></button>
      </div>
      <div class="output mathjson toggle-field"></div>
    </div>

    <div class="output-section" id="evaluate">
      <code class="label">expr.evaluate()&nbsp;=&nbsp;</code>
      <div class="row">
        <math-field class="latex" read-only></math-field>
        <button class="toggle"><svg><use xlink:href="#info-circle" /></svg></button>
      </div>
      <div class="output mathjson toggle-field"></div>
    </div>

    <div class="output-section" id="evaluate-numerically">
      <code class="label">expr.N()&nbsp;=&nbsp;</code>
      <div class="row">
        <math-field class="latex" read-only></math-field>
        <button class="toggle"><svg><use xlink:href="#info-circle" /></svg></button>
      </div>
      <div class="row">
        <div class="segmented-control" style="--segments: 4">
          <input type="radio" name="numeric-format" value="auto" id="numeric-format-auto" checked />
          <label for="numeric-format-auto">auto</label>
          <input type="radio" name="numeric-format" value="machine" id="numeric-format-machine" />
          <label for="numeric-format-machine">machine</label>
          <input type="radio" name="numeric-format" value="decimal" id="numeric-format-decimal" />
          <label for="numeric-format-decimal">decimal</label>
          <input type="radio" name="numeric-format" value="complex" id="numeric-format-complex" />
          <label for="numeric-format-complex">complex</label>
        </div>
      </div>
      <div class="output mathjson toggle-field"></div>
    </div>


    <div class="output-section" id="solve">
      <div class="row">
        <code class="label">solve(f, ["x"]))&nbsp;=&nbsp;</code>
        <math-field class="latex" read-only></math-field>
        <button class="toggle"><svg><use xlink:href="#info-circle" /></svg></button>
      </div>
      <div class="output mathjson toggle-field"></div>
    </div>

  </main>
  
  <script type="module">
    import { convertLatexToMarkup } from 
      'https://unpkg.com/mathlive?module';
    import {
      ComputeEngine, version
    } from 'https://unpkg.com/@cortex-js/compute-engine?module';


    document.getElementById('version').innerText = version;

    const MAX_LINE_LENGTH = 64;

    //
    // Numeric format segmented control
    //
    document.querySelectorAll('input[name=numeric-format]').forEach(x => {
      x.addEventListener('click', (evt) => {
        if (evt.target.id === 'numeric-format-auto') {
          ce.numericFormat = 'auto';
        } else if (evt.target.id === 'numeric-format-machine') {
          ce.numericFormat = 'machine';
          ce.precision = 10;
        } else if (evt.target.id === 'numeric-format-decimal') {
          ce.numericFormat = 'decimal';
          ce.precision = 1000;
        } else if (evt.target.id === 'numeric-format-complex') {
          ce.numericFormat = 'complex';
        }
        updateContent(mf);
      });
    });
    let errors = [];

    const ce = new ComputeEngine();

    updateAssumptions();

    const mf = document.getElementById('mf');
    mf.addEventListener('input', (ev) => updateContent(mf));
    updateContent(mf);

    async function updateContent(mf) {
      const latex = mf.getValue('latex-expanded');

      let expr;
      try {

        const latexEl = document.getElementById('mathfield-latex')
        if (latexEl) latexEl.innerHTML = escapeHtml(latex);

        if (document.getElementById('asciimath')) {
          document.getElementById('asciimath').innerHTML = 
            escapeHtml(mf.getValue('ascii-math'));
        }

        expr = ce.parse(latex);

        const mathJsonEl = document.getElementById('mathfield-math-json')
        if (mathJsonEl) {
          mathJsonEl.innerHTML =
            exprToString(expr.json) +
            '<br><div style="font-weight: bold; color: hsl(4deg, 90%, 50%)">' +
            errors.join('<br>') + '</div>';
        }


      } catch (e) {
        console.error("parse(%c " + latex + '%c) ' +
          e.toString(), 'color: red;  background: hsla(0, 60%, 90%)', 'background: transparent');
      }
      try {
        const canonicalExpr = expr.canonical;

        updateExpr(canonicalExpr, 'canonical-form');
      } catch (e) {
        console.error("canonical(%c " + latex + '%c) ' +
          e.toString(), 'color: red;  background: hsla(0, 60%, 90%)', 'background: transparent');
      }

      // try {
      //   updateExpr(ce.format(expr, ['json']), 'json-form');
      // } catch (e) {
      //   console.error("format(%c " + latex + '%c, [\'json\']) ' +
      //     e.toString(), 'color: red;  background: hsla(0, 60%, 90%)', 'background: transparent');
      // }


      try {
        updateExpr(expr.domain, 'domain');
      } catch (e) {
        console.error("domain(%c " + latex + '%c) ' +
          e.toString(), 'color: red;  background: hsla(0, 60%, 90%)', 'background: transparent');
      }

      try {
        updateExpr(expr.simplify(), 'simplify');
      } catch (e) {
        console.error("simplify(%c " + latex + '%c) ' +
          e.toString(), 'color: red;  background: hsla(0, 60%, 90%)', 'background: transparent');
      }

      try {
        updateExpr(expr.N(), 'evaluate-numerically');
      } catch (e) {
        console.error("N(%c " + latex + '%c) ' +
          e.toString(), 'color: red;  background: hsla(0, 60%, 90%)', 'background: transparent');
      }

      try {
        updateExpr(expr.evaluate(), 'evaluate');
      } catch (e) {
        console.error("evaluate(%c " + latex + '%c) ' +
          e.toString(), 'color: red;  background: hsla(0, 60%, 90%)', 'background: transparent');
      }

      // try {
      //   updateExpr(await ce.solve(expr, ['x']), 'solve');
      // } catch (e) {
      //   console.error("solve(%c " + latex + '%c, ["x"]) ' +
      //     e.toString(), 'color: red;  background: hsla(0, 60%, 90%)', 'background: transparent');
      // }
    }

    function updateExpr(expr, id) {
      const el = document.getElementById(id);
      if (!el) return;

      if (expr === null) {
        el.classList.remove('is-visible');
      } else {
        el.classList.add('is-visible');
      }

      const mathJsonEl = el.querySelector('.mathjson');
      if (mathJsonEl) {
        mathJsonEl.innerHTML =
          exprToString(expr.json) +
          '<br><div style="font-weight: bold; color: hsl(4deg, 90%, 50%)">' +
          errors.join('<br>') + '</div>';
      }
      const latexEl = el.querySelector('.latex');
      if (latexEl) {
        latexEl.value = expr.latex
      }

      errors = [];
    }

    function escapeHtml(string) {
      return String(string).replace(/[&<>"'`=/\u200b]/g, function (s) {
        return (
          {
            '&': '&amp;',
            '<': '&lt;',
            '>': '&gt;',
            '"': '&quot;',
            "'": '&#39;',
            '/': '&#x2F;',
            '`': '&#x60;',
            '=': '&#x3D;',
            '\u200b': '&amp;#zws;',
          }[s] || s
        );
      });
    }

    function toggleVisibility(el) {
      if (el) {
        if (el.classList.contains('is-visible')) {
          el.classList.remove('is-visible');
        } else {
          el.classList.add('is-visible');
        }
      }
    }

    [
      'input',
      'json-form', 
      'canonical-form', 
      'domain', 
      'simplify', 
      'evaluate-numerically', 
      'evaluate', 
      'solve'].forEach(id => {
      const el = document.getElementById(id);
      if (el) {
        const toggle = el.querySelector('.toggle');
        toggle.addEventListener('click', () => {
          toggle.classList.toggle('is-on');
          toggleVisibility(el.querySelector('.toggle-field'));
        });
      }
    });


    function exprToStringRecursive(expr, start) {
      let indent = ' '.repeat(start);
      if (Array.isArray(expr)) {
        const elements = expr.map(x => exprToStringRecursive(x, start + 2));
        let result = `[${elements.join(', ')}]`;
        if (start + result.length < MAX_LINE_LENGTH) return result;
        return `[\n${indent}  ${elements.join(`,\n${indent}  `)}\n${indent}]`;
      }
      if (expr === null) return 'null';
      if (typeof expr === 'object') {
        const elements = {};
        Object.keys(expr).forEach(x => 
           elements[x] = exprToStringRecursive(expr[x], start + 2)
        );
        let result = `\n${indent}{${Object.keys(expr).map(key => {return `${key}: ${elements[key]}`}).join('; ')}}`;
        if (start + result.length < MAX_LINE_LENGTH) return result;
        return  `\n${indent}{\n` + Object.keys(expr).map(key => 
            { return `${indent}  ${key}: ${elements[key]}` }
          ).join(`;\n${indent}`) + '\n' + indent + '}';
      }
      return JSON.stringify(expr, null, 2);
    }

    function exprToString(expr) {
      return escapeHtml(exprToStringRecursive(expr, 0));
    }


    function updateAssumptions() {
    //   ce.assume('n', 'Integer');

    //   ce.assume(['Greater', 'x', 4]);
    //   ce.assume(['Equal','a', 1]);

    // document.getElementById('assumptions').innerHTML = 
    //    [...ce.assumptions].map(([assumption, val]) => { 
    //      return convertLatexToMarkup(defaultLatex.serialize(assumption)) + 
    //       '<span>' + (val ?  '': ' is false') + '</span>'
    //     }
    //   ).join(',  ') 
    }


  </script>

        
      </section>

      <footer class="page__meta">
        
        


        <meta itemprop="datePublished" content="April 05, 2022">
                

        <p><svg class="icon1quarterem"><use role="none" xlink:href="/assets/icons.svg#code-branch"/></svg><strong>Compute Engine version </strong> <span id='version'></span></p>


        
          <p class="page__date"><svg class="icon1quarterem"><use role="none" xlink:href="/assets/icons.svg#calendar-days"/></svg><strong> Updated</strong> <time datetime="2022-04-05">April 05, 2022</time></p>
        

          <p class="page__meta-link"><svg class="icon1quarterem"><use role="none" xlink:href="/assets/icons.svg#bug"/></svg> <strong>See a typo? Question? Feedback?</strong> File an issue at <a href="https://github.com/cortex-js/cortexjs.io">github.com/cortex-js/cortexjs.io</a></p>
      </footer>


      
    </div>

  </article>
</div>

<script type="module">
  import { renderMathInDocument } from '//unpkg.com/mathlive?module';
  window.addEventListener('DOMContentLoaded', (event) => {
    renderMathInDocument({ 
      renderAccessibleContent: false,
      TeX: { 
        delimiters: {
          inline: [['\\(', '\\)']],
          display: [ ['$$', '$$'], ['\\[', '\\]']],
        },
        processEnvironments : false 
      },
      asciiMath: null,
    });
  });
</script>

    </div>

    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
    <ul class="social-icons">
         
         
         
        
        <li>
            <a href="https://github.com/cortex-js" rel="nofollow noopener noreferrer"
                ><svg class='icon1quarterem'><use role='none' xlink:href='/assets/icons.svg#github'></use></svg>GitHub</a
            >
        </li>
         
         
        
        <li>
            <a href="https://gitter.im/cortex-js" rel="nofollow noopener noreferrer"
                ><svg class='icon1quarterem'><use role='none' xlink:href='/assets/icons.svg#gitter'></use></svg>Gitter</a
            >
        </li>
         
         
        

    </ul>
</div>
<div class="page__footer-pages">
             
    <ul>
         
        
        <li>
            <a href="/about/" rel="nofollow noopener noreferrer">About Us</a
            >
        </li>
         
         
    </ul>
        

</div>
      </footer>
    </div>

    
  <!-- <script defer src="/assets/js/main.min.js"></script> -->









  </body>
</html>